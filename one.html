<!DOCTYPE html>
<!-- saved from url=(0049)https://www.taiwoifedayo.com.ng/blog/http-library -->
<html lang="en" class="scroll-smooth light" style="color-scheme: light;"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script>!function(){try {var d=document.documentElement.classList;d.remove('light','dark');var e=localStorage.getItem('theme');if("system"===e||(!e&&true)){var t="(prefers-color-scheme: dark)",m=window.matchMedia(t);m.media!==t||m.matches?d.add('dark'):d.add('light')}else if(e) d.add(e)}catch(e){}}()</script><meta content="width=device-width, initial-scale=1" name="viewport"><title>Crafting an HTTP Library in Rust</title><meta name="robots" content="follow, index"><meta name="description" content="Welcome to the journey of building an HTTP library in Rust—a language known for its emphasis on safety, speed, and concurrency."><meta property="og:url" content="https://taiwoifedayo.com.ng/blog/http-library"><meta property="og:type" content="article"><meta property="og:site_name" content="Blog | Taiwo Ifedayo"><meta property="og:description" content="Welcome to the journey of building an HTTP library in Rust—a language known for its emphasis on safety, speed, and concurrency."><meta property="og:title" content="Crafting an HTTP Library in Rust"><meta property="og:image" content="https://taiwoifedayo.com.ng/static/images/twitter-card.png"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="https://twitter.com/_taiwoifedayo"><meta name="twitter:title" content="Crafting an HTTP Library in Rust"><meta name="twitter:description" content="Welcome to the journey of building an HTTP library in Rust—a language known for its emphasis on safety, speed, and concurrency."><meta name="twitter:image" content="https://taiwoifedayo.com.ng/static/images/twitter-card.png"><link rel="canonical" href="https://taiwoifedayo.com.ng/blog/http-library"><meta property="article:published_time" content="2023-12-27T00:00:00.000Z"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "Article",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://taiwoifedayo.com.ng/blog/http-library"
  },
  "headline": "Crafting an HTTP Library in Rust",
  "image": [
    {
      "@type": "ImageObject",
      "url": "https://taiwoifedayo.com.ng/static/images/twitter-card.png"
    }
  ],
  "datePublished": "2023-12-27T00:00:00.000Z",
  "dateModified": "2023-12-27T00:00:00.000Z",
  "author": [
    {
      "@type": "Person",
      "name": "Taiwo Ifedayo"
    }
  ],
  "publisher": {
    "@type": "Organization",
    "name": "Taiwo Ifedayo",
    "logo": {
      "@type": "ImageObject",
      "url": "https://taiwoifedayo.com.ng/static/images/logo.png"
    }
  },
  "description": "Welcome to the journey of building an HTTP library in Rust—a language known for its emphasis on safety, speed, and concurrency."
}</script><meta name="next-head-count" content="20"><link rel="apple-touch-icon" sizes="76x76" href="https://www.taiwoifedayo.com.ng/static/favicons/apple-touch-icon-76x76.png"><link rel="apple-touch-icon-precomposed" sizes="57x57" href="https://www.taiwoifedayo.com.ng/static/favicons/apple-touch-icon-57x57.png"><link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://www.taiwoifedayo.com.ng/static/favicons/apple-touch-icon-114x114.png"><link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://www.taiwoifedayo.com.ng/static/favicons/apple-touch-icon-72x72.png"><link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://www.taiwoifedayo.com.ng/static/favicons/apple-touch-icon-144x144.png"><link rel="apple-touch-icon-precomposed" sizes="60x60" href="https://www.taiwoifedayo.com.ng/static/favicons/apple-touch-icon-60x60.png"><link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://www.taiwoifedayo.com.ng/static/favicons/apple-touch-icon-120x120.png"><link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://www.taiwoifedayo.com.ng/static/favicons/apple-touch-icon-76x76.png"><link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://www.taiwoifedayo.com.ng/static/favicons/apple-touch-icon-152x152.png"><link rel="icon" type="image/png" sizes="32x32" href="https://www.taiwoifedayo.com.ng/static/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://www.taiwoifedayo.com.ng/static/favicons/favicon-16x16.png"><link rel="icon" type="image/png" href="https://www.taiwoifedayo.com.ng/static/favicons/favicon-196x196.png" sizes="196x196"><link rel="icon" type="image/png" href="https://www.taiwoifedayo.com.ng/static/favicons/favicon-96x96.png" sizes="96x96"><link rel="icon" type="image/png" href="https://www.taiwoifedayo.com.ng/static/favicons/favicon-128.png" sizes="128x128"><meta name="msapplication-TileImage" content="/static/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="/static/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="/static/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="/static/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="/static/favicons/mstile-310x310.png"><link rel="manifest" href="https://www.taiwoifedayo.com.ng/static/favicons/site.webmanifest"><link rel="mask-icon" href="https://www.taiwoifedayo.com.ng/static/favicons/safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#000000"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#fff"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#000"><meta name="description" content="Welcome to my personal blog where I share my Journey. I am a Software Engineer passionate about Scalable Web Applications, Data Systems and Artificial intelligence."><link rel="alternate" type="application/rss+xml" href="https://www.taiwoifedayo.com.ng/feed.xml"><link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="anonymous"><link rel="stylesheet" href="./one_files/katex.min.css" integrity="sha384-Um5gpz1odJg5Z4HAmzPtgZKdTBHZdw8S29IecapCSB31ligYPhHQZMIlWLYQGVoc" crossorigin="anonymous"><link rel="icon" href="https://www.taiwoifedayo.com.ng/favicon.svg" sizes="any" type="image/svg+xml"><meta name="google-site-verification" content="p-BivLZjRfJtiUanGMyye5bDey74X_X7H5PI4IdW0Ow"><link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin=""><link rel="preload" href="./one_files/6bafd92e26531c9b.css" as="style"><link rel="stylesheet" href="./one_files/6bafd92e26531c9b.css" data-n-g=""><noscript data-n-css=""></noscript><script defer="" nomodule="" src="./one_files/polyfills-5cd94c89d3acac5f.js.download"></script><script src="./one_files/webpack-6cc51a4a02d9cee3.js.download" defer=""></script><script src="./one_files/main-64642bea30a4dd4e.js.download" defer=""></script><script src="./one_files/_app-cec880681545c9f4.js.download" defer=""></script><script src="./one_files/d7eeaac4-4429e2d0b8276f59.js.download" defer=""></script><script src="./one_files/0c428ae2-37c7809efb436dec.js.download" defer=""></script><script src="./one_files/675-64a821d6ab4fd557.js.download" defer=""></script><script src="./one_files/227-3605698c7efba0ef.js.download" defer=""></script><script src="./one_files/244-b27303e4e9b2edfa.js.download" defer=""></script><script src="./one_files/219-1fea6d9ab8461a23.js.download" defer=""></script><script src="./one_files/712-94651f53a5dd99ba.js.download" defer=""></script><script src="./one_files/[...slug]-a3d5174416912524.js.download" defer=""></script><script src="./one_files/_buildManifest.js.download" defer=""></script><script src="./one_files/_ssgManifest.js.download" defer=""></script><script src="./one_files/_middlewareManifest.js.download" defer=""></script><style data-href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&amp;display=swap">@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v13/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuLyfMZs.woff) format('woff')}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v13/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuGKYMZs.woff) format('woff')}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v13/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuFuYMZs.woff) format('woff')}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v13/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2JL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v13/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa0ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v13/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v13/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v13/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v13/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa25L7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v13/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1ZL7W0Q5nw.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v13/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2JL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v13/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa0ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v13/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v13/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v13/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v13/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa25L7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v13/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1ZL7W0Q5nw.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v13/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2JL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v13/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa0ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v13/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v13/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v13/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v13/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa25L7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v13/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1ZL7W0Q5nw.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style><style data-emotion="css-global" data-s=""></style><style data-emotion="css-global" data-s=""></style><style data-emotion="css 1ukx6ls" data-s="">.css-1ukx6ls{color:inherit;font-family:inherit;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><style data-emotion="css l5xv05" data-s="">.css-l5xv05{position:relative;}</style><style data-emotion="css 1iot8w3" data-s="">.css-1iot8w3{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%, -50%);-moz-transform:translate(-50%, -50%);-ms-transform:translate(-50%, -50%);transform:translate(-50%, -50%);}</style><style data-emotion="css 1nm6nsy" data-s="">.css-1nm6nsy{opacity:0;position:absolute;font-family:inherit;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:white;background-color:#292929;border-radius:100%;font-size:.7em;height:2.8em;width:2.8em;top:-1.4em;left:-1.4em;}</style><style data-emotion="css 1brfkvc" data-s="">.css-1brfkvc{border:none!important;outline:none!important;box-shadow:0 0 0;-webkit-transform:translate3d(0,0,0);-moz-transform:translate3d(0,0,0);-ms-transform:translate3d(0,0,0);transform:translate3d(0,0,0);cursor:pointer;-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;appearance:none;position:relative;font-size:inherit;-webkit-transition:all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;border-radius:100%!important;width:3em!important;height:3em!important;padding:0!important;line-height:1em;background-color:transparent;}.css-1brfkvc:hover{-webkit-transition:all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;opacity:0.75;}@media (hover: hover){.css-1brfkvc:hover{background-color:transparent;}}</style><style data-emotion="css 9jw6gt" data-s="">.css-9jw6gt{opacity:0;width:90%;height:90%;border-radius:3em;border:1px solid;border-color:199016;box-sizing:border-box;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%, -50%);-moz-transform:translate(-50%, -50%);-ms-transform:translate(-50%, -50%);transform:translate(-50%, -50%);}</style><style data-emotion="css 5i7hdh" data-s="">.css-5i7hdh{height:1.6em;display:block;margin:0 auto;fill:#fff;}</style><style data-emotion="css" data-s=""></style><style>.Typewriter__cursor{-webkit-animation:Typewriter-cursor 1s infinite;animation:Typewriter-cursor 1s infinite;margin-left:1px}@-webkit-keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}@keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}</style><script src="./one_files/script.js.download" defer="" data-sdkn="@vercel/analytics" data-sdkv="1.0.1"></script><link as="script" rel="prefetch" href="./one_files/index-48c63b6a25d995c2.js.download"><link as="script" rel="prefetch" href="./one_files/blog-b7572caf34446f29.js.download"><link as="script" rel="prefetch" href="./one_files/snippets-f1bed50f61a5127b.js.download"><link as="script" rel="prefetch" href="./one_files/1bfc9850-0683d8b8b5fbae65.js.download"><link as="script" rel="prefetch" href="./one_files/projects-0cfa43a1c02deb4f.js.download"><link as="script" rel="prefetch" href="./one_files/about-897f78f137ff7529.js.download"><link as="script" rel="prefetch" href="./one_files/582-d79da0492f1f9267.js.download"><link as="script" rel="prefetch" href="./one_files/guestbook-c3c2b7cc4bebf575.js.download"><link as="script" rel="prefetch" href="./one_files/certificates-12de689d02538613.js.download"><link as="script" rel="prefetch" href="./one_files/[tag]-24b3ddcdeeb07598.js.download"></head><body class="bg-white text-black antialiased dark:bg-background-color dark:text-white"><div id="__next" data-reactroot=""><div style="margin: 0px; padding: 0px; position: fixed; top: 0px; z-index: 99; background-color: rgb(25, 144, 22); height: 4px; transition: null 0.2s ease-out 0s; width: 20.5313%;"></div><div class="fixed right-16 bottom-8 hidden flex-col gap-3 md:flex"><button aria-label="Scroll To Top" type="button" class="pushable"><span class="shadow"></span><span class="edge"></span><span class="front"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="h-5 w-5" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><desc></desc><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M9 20v-8h-3.586a1 1 0 0 1 -.707 -1.707l6.586 -6.586a1 1 0 0 1 1.414 0l6.586 6.586a1 1 0 0 1 -.707 1.707h-3.586v8a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z"></path></svg></span></button></div><div class="mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0"><div class="flex h-screen flex-col justify-between"><header class="flex items-center justify-between py-10"><div><a aria-label="Sparking innovation one line at a time" href="https://www.taiwoifedayo.com.ng/"><div class="text-primary-color dark:text-primary-color-dark flex items-center justify-between text-xl font-semibold">~/blog/http-library <div class="Typewriter" data-testid="typewriter-wrapper"><span class="Typewriter__wrapper"></span><span class="Typewriter__cursor">|</span></div></div></a></div><div class="flex items-center text-base leading-5"><div class="hidden sm:block"><a class="link-underline rounded py-1 px-2 text-gray-900 hover:bg-gray-200 dark:text-gray-100 dark:hover:bg-gray-700 sm:py-2 sm:px-3" href="https://www.taiwoifedayo.com.ng/">Home</a><a class="link-underline rounded py-1 px-2 text-gray-900 hover:bg-gray-200 dark:text-gray-100 dark:hover:bg-gray-700 sm:py-2 sm:px-3" href="https://www.taiwoifedayo.com.ng/blog">Blog</a><a class="link-underline rounded py-1 px-2 text-gray-900 hover:bg-gray-200 dark:text-gray-100 dark:hover:bg-gray-700 sm:py-2 sm:px-3" href="https://www.taiwoifedayo.com.ng/snippets">Snippets</a><a class="link-underline rounded py-1 px-2 text-gray-900 hover:bg-gray-200 dark:text-gray-100 dark:hover:bg-gray-700 sm:py-2 sm:px-3" href="https://www.taiwoifedayo.com.ng/projects">Projects</a><a class="link-underline rounded py-1 px-2 text-gray-900 hover:bg-gray-200 dark:text-gray-100 dark:hover:bg-gray-700 sm:py-2 sm:px-3" href="https://www.taiwoifedayo.com.ng/about">About</a><a class="link-underline rounded py-1 px-2 text-gray-900 hover:bg-gray-200 dark:text-gray-100 dark:hover:bg-gray-700 sm:py-2 sm:px-3" href="https://www.taiwoifedayo.com.ng/guestbook">Guestbook</a><a class="link-underline rounded py-1 px-2 text-gray-900 hover:bg-gray-200 dark:text-gray-100 dark:hover:bg-gray-700 sm:py-2 sm:px-3" href="https://www.taiwoifedayo.com.ng/certificates">Certificates</a></div><button class="ml-2 mr-1 flex h-8 w-8 cursor-pointer items-center justify-center rounded-full bg-zinc-300 p-1 ring-zinc-400 transition-all duration-200 ease-in-out hover:bg-zinc-300 hover:ring-1 dark:bg-zinc-700 dark:ring-white dark:hover:bg-zinc-800" type="button" aria-label="Command palette" style="transform: none;"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M18 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3H6a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3V6a3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3h12a3 3 0 0 0 3-3 3 3 0 0 0-3-3z"></path></svg></button><div class="ml-1 cursor-pointer rounded-full bg-zinc-300 ring-zinc-400 transition-all hover:bg-zinc-300 hover:ring-1 dark:bg-zinc-700 dark:ring-white dark:hover:bg-zinc-800"><button class="flex h-8 w-8 items-center justify-center p-2" aria-label="Toggle Dark Mode" type="button"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" class="h-4 w-4 hover:animate-spin" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg></button></div><div class="relative z-10 inline-block text-left "><div><button class=" ml-2 cursor-pointer rounded-full bg-zinc-300 ring-zinc-400 transition-all hover:bg-violet-400 hover:ring-1 dark:bg-zinc-700 dark:ring-violet-700 dark:hover:bg-violet-600" id="headlessui-menu-button-1" type="button" aria-haspopup="true" aria-expanded="false"><button class="flex h-8 w-8 items-center justify-center p-2" aria-label="Toggle List Menu" type="button"><svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" class="h-4 w-4"><path d="M1.5 3C1.22386 3 1 3.22386 1 3.5C1 3.77614 1.22386 4 1.5 4H13.5C13.7761 4 14 3.77614 14 3.5C14 3.22386 13.7761 3 13.5 3H1.5ZM1 7.5C1 7.22386 1.22386 7 1.5 7H13.5C13.7761 7 14 7.22386 14 7.5C14 7.77614 13.7761 8 13.5 8H1.5C1.22386 8 1 7.77614 1 7.5ZM1 11.5C1 11.2239 1.22386 11 1.5 11H13.5C13.7761 11 14 11.2239 14 11.5C14 11.7761 13.7761 12 13.5 12H1.5C1.22386 12 1 11.7761 1 11.5Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg></button></button></div></div></div></header><main class="mb-auto"><div class="mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0"><div class="fixed right-8 bottom-9 hidden flex-col gap-6 md:flex"><button class="mb-16"><div class="css-1ukx6ls"><div class="css-l5xv05"><div class="css-1iot8w3"><div class="css-1nm6nsy">11</div></div><button class="css-1jxier1"><div class="css-9jw6gt"></div><svg viewBox="0 0 29 29" aria-label="clap" class="css-5i7hdh"><path d="M13.74 1l.76 2.97.76-2.97zM18.63 2.22l-1.43-.47-.4 3.03zM11.79 1.75l-1.43.47 1.84 2.56zM24.47 14.3L21.45 9c-.29-.43-.69-.7-1.12-.78a1.16 1.16 0 0 0-.91.22c-.3.23-.48.52-.54.84l.05.07 2.85 5c1.95 3.56 1.32 6.97-1.85 10.14a8.46 8.46 0 0 1-.55.5 5.75 5.75 0 0 0 3.36-1.76c3.26-3.27 3.04-6.75 1.73-8.91M14.58 10.89c-.16-.83.1-1.57.7-2.15l-2.5-2.49c-.5-.5-1.38-.5-1.88 0-.18.18-.27.4-.33.63l4.01 4z"></path><path d="M17.81 10.04a1.37 1.37 0 0 0-.88-.6.81.81 0 0 0-.64.15c-.18.13-.71.55-.24 1.56l1.43 3.03a.54.54 0 1 1-.87.61L9.2 7.38a.99.99 0 1 0-1.4 1.4l4.4 4.4a.54.54 0 1 1-.76.76l-4.4-4.4L5.8 8.3a.99.99 0 0 0-1.4 0 .98.98 0 0 0 0 1.39l1.25 1.24 4.4 4.4a.54.54 0 0 1 0 .76.54.54 0 0 1-.76 0l-4.4-4.4a1 1 0 0 0-1.4 0 .98.98 0 0 0 0 1.4l1.86 1.85 2.76 2.77a.54.54 0 0 1-.76.76L4.58 15.7a.98.98 0 0 0-1.4 0 .99.99 0 0 0 0 1.4l5.33 5.32c3.37 3.37 6.64 4.98 10.49 1.12 2.74-2.74 3.27-5.54 1.62-8.56l-2.8-4.94z"></path></svg></button></div><div class="css-1kjzxkl">15</div></div></button></div><div class="fixed right-16 bottom-8 hidden flex-col gap-3 md:flex"><button aria-label="Scroll To Top" type="button" class="pushable"><span class="shadow"></span><span class="edge"></span><span class="front"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="h-5 w-5" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><desc></desc><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M9 20v-8h-3.586a1 1 0 0 1 -.707 -1.707l6.586 -6.586a1 1 0 0 1 1.414 0l6.586 6.586a1 1 0 0 1 -.707 1.707h-3.586v8a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z"></path></svg></span></button></div><article><div class="xl:divide-y xl:divide-gray-200 xl:dark:divide-gray-700"><header class="pt-6 xl:pb-5"><div class="space-y-1 text-center"><dl class="space-y-10"><div><dt class="sr-only">Published on</dt><dd class="text-base font-medium leading-6 text-gray-500 dark:text-gray-400"><time datetime="2023-12-27T00:00:00.000Z"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" class="mr-1.5 -mt-1.5 inline h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M6.445 11.688V6.354h-.633A12.6 12.6 0 0 0 4.5 7.16v.695c.375-.257.969-.62 1.258-.777h.012v4.61h.675zm1.188-1.305c.047.64.594 1.406 1.703 1.406 1.258 0 2-1.066 2-2.871 0-1.934-.781-2.668-1.953-2.668-.926 0-1.797.672-1.797 1.809 0 1.16.824 1.77 1.676 1.77.746 0 1.23-.376 1.383-.79h.027c-.004 1.316-.461 2.164-1.305 2.164-.664 0-1.008-.45-1.05-.82h-.684zm2.953-2.317c0 .696-.559 1.18-1.184 1.18-.601 0-1.144-.383-1.144-1.2 0-.823.582-1.21 1.168-1.21.633 0 1.16.398 1.16 1.23z"></path><path d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z"></path></svg>Tuesday, December 26, 2023</time></dd></div></dl><div><h1 class="text-3xl font-extrabold leading-9 tracking-tight text-gray-900 dark:text-gray-100 sm:text-4xl sm:leading-10 md:text-5xl md:leading-14">Crafting an HTTP Library in Rust</h1></div><div class="flex justify-center gap-5 py-4"><span class="flex items-center gap-1.5"><svg stroke="currentColor" fill="none" stroke-width="0" viewBox="0 0 24 24" class="h-5 w-5" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"></path></svg>2677 words</span><span class="flex items-center gap-1.5"><svg stroke="currentColor" fill="none" stroke-width="0" viewBox="0 0 24 24" class="h-5 w-5" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>14 min read</span><span class="flex items-center gap-1.5"><svg stroke="currentColor" fill="none" stroke-width="0" viewBox="0 0 24 24" class="h-5 w-5" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg><span class="ml-0">1</span><div class="-ml-0.5">Views</div></span></div></div></header><div class="divide-y divide-gray-200 pb-8 dark:divide-gray-700 xl:grid xl:grid-cols-4 xl:gap-x-6 xl:divide-y-0" style="grid-template-rows: auto 1fr;"><dl class="pt-6 pb-10 xl:border-b xl:border-gray-200 xl:pt-11 xl:dark:border-gray-700"><dt class="sr-only">Authors</dt><dd><ul class="flex justify-center space-x-8 sm:space-x-12 xl:block xl:space-x-0 xl:space-y-8"><li class="flex items-center space-x-2"><span style="box-sizing: border-box; display: inline-block; overflow: hidden; width: initial; height: initial; background: none; opacity: 1; border: 0px; margin: 0px; padding: 0px; position: relative; max-width: 100%;"><span style="box-sizing: border-box; display: block; width: initial; height: initial; background: none; opacity: 1; border: 0px; margin: 0px; padding: 0px; max-width: 100%;"><img alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%2738%27%20height=%2738%27/%3e" style="display: block; max-width: 100%; width: initial; height: initial; background: none; opacity: 1; border: 0px; margin: 0px; padding: 0px;"></span><img alt="avatar" src="./one_files/avatar.png" decoding="async" data-nimg="intrinsic" class="h-10 w-10 rounded-full" style="position: absolute; inset: 0px; box-sizing: border-box; padding: 0px; border: none; margin: auto; display: block; width: 0px; height: 0px; min-width: 100%; max-width: 100%; min-height: 100%; max-height: 100%;" srcset="/_next/image?url=%2Fstatic%2Fimages%2Favatar.png&amp;w=48&amp;q=75 1x, /_next/image?url=%2Fstatic%2Fimages%2Favatar.png&amp;w=96&amp;q=75 2x"><noscript></noscript></span><dl class="whitespace-nowrap text-sm font-medium leading-5"><dt class="sr-only">Name</dt><dd class="text-gray-900 dark:text-gray-100">Taiwo Ifedayo</dd><dt class="sr-only">Twitter</dt><dd><a class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" target="_blank" rel="noopener noreferrer" href="https://twitter.com/_taiwoifedayo">@_taiwoifedayo<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="ml-0.5 inline-block h-4 w-4 fill-current"><g data-name="Layer 2"><g data-name="external-link"><rect width="24" height="24" opacity="0"></rect><path d="M20 11a1 1 0 0 0-1 1v6a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h6a1 1 0 0 0 0-2H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3v-6a1 1 0 0 0-1-1z"></path><path d="M16 5h1.58l-6.29 6.28a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0L19 6.42V8a1 1 0 0 0 1 1 1 1 0 0 0 1-1V4a1 1 0 0 0-1-1h-4a1 1 0 0 0 0 2z"></path></g></g></svg></a></dd></dl></li></ul></dd></dl><div class="divide-y divide-gray-200 dark:divide-gray-700 xl:col-span-3 xl:row-span-2 xl:pb-0"><div class="prose max-w-none pt-10 pb-8 dark:prose-dark"><img class="inline" src="./one_files/3.png" alt="Crafting an HTTP Library in Rust"><h1 id="crafting-an-http-library-in-rust-building-a-robust-foundation"><a href="https://www.taiwoifedayo.com.ng/blog/http-library#crafting-an-http-library-in-rust-building-a-robust-foundation" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Crafting an HTTP Library in Rust: Building a Robust Foundation</h1><h2 id="introduction"><a href="https://www.taiwoifedayo.com.ng/blog/http-library#introduction" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Introduction</h2><p>Welcome to the journey of building an HTTP library in Rust—a language known for its emphasis on safety, speed, and concurrency. Before we delve into the code, let's ensure you're well-prepared by exploring the basics of Rust. If you haven't already, install Rust and Cargo from <a class="special-underline-new no-underline hover:text-gray-100 dark:hover:text-gray-100" target="_blank" rel="noopener noreferrer" href="https://www.rust-lang.org/">Rust's official website</a>. Once installed, create a new project with the command <code>cargo new http-library</code>. Let's embark on this adventure with a focus on clarity and professionalism.</p><h2 id="how-http-works"><a href="https://www.taiwoifedayo.com.ng/blog/http-library#how-http-works" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>How HTTP Works</h2>  <img class="inline" src="./one_files/2.png" alt="Http"><p>Let's delve into the workings of HTTP, the foundation of data exchange on the Web. HTTP stands for "hypertext transform protocol", it is an application protocol designed to transfer information between networked devices.</p><p>Operating in a client-server model, HTTP involves:</p><ul><li><p><strong>HTTP Request</strong>: When a client (e.g., a web browser) seeks a resource, it sends an HTTP request containing the version type, method, url, headers, and an optional message body.</p><img class="inline" src="./one_files/1.webp" alt="Http Request"></li><li><p><strong>HTTP Response</strong>: The server processes the request and sends back an HTTP response with the version, status code, status text, headers, and an optional response body.</p></li></ul><p>Our Rust HTTP library encapsulates these concepts, allowing for the parsing of requests and construction of responses—a structured approach to web interactions.</p><h2 id="step-1-define-http-request-components"><a href="https://www.taiwoifedayo.com.ng/blog/http-library#step-1-define-http-request-components" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Step 1: Define HTTP Request Components</h2><p>Our initial task is to understand the key components of an HTTP request. Imagine an explorer seeking treasures—a request contains a method, a path, headers, and a message body. Let's create the necessary structures to encapsulate these elements in <code>src/httprequest.rs</code>:</p><div class="relative"><pre><code class="language-rust code-highlight"><span class="code-line"><span class="token keyword">use</span> <span class="token namespace">std<span class="token punctuation">::</span>collections<span class="token punctuation">::</span></span><span class="token class-name">HashMap</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// Enum to represent the resource type (path) in an HTTP request</span>
</span><span class="code-line"><span class="token attr-name attribute">#[derive(PartialEq, Debug)]</span>
</span><span class="code-line"><span class="token keyword">pub</span> <span class="token keyword">enum</span> <span class="token class-name type-definition">Resource</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token class-name">Path</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// Struct to represent an HTTP request</span>
</span><span class="code-line"><span class="token attr-name attribute">#[derive(PartialEq, Debug)]</span>
</span><span class="code-line"><span class="token keyword">pub</span> <span class="token keyword">struct</span> <span class="token class-name type-definition">HttpRequest</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">pub</span> method<span class="token punctuation">:</span> <span class="token class-name">Method</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token keyword">pub</span> version<span class="token punctuation">:</span> <span class="token class-name">Version</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token keyword">pub</span> resource<span class="token punctuation">:</span> <span class="token class-name">Resource</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token keyword">pub</span> headers<span class="token punctuation">:</span> <span class="token class-name">HashMap</span><span class="token operator">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token keyword">pub</span> msg_body<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><ul><li><p><strong>Resource Enum</strong>: Represents the path of our request, encapsulated in the <code>Resource</code> enum.</p></li><li><p><strong>HttpRequest Struct</strong>: Our representation of an HTTP request, which includes the method, version, resource, headers, and the message body.</p></li></ul><h2 id="step-2-implement-request-parsing"><a href="https://www.taiwoifedayo.com.ng/blog/http-library#step-2-implement-request-parsing" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Step 2: Implement Request Parsing</h2><p>Let's empower our library to parse incoming HTTP requests, transforming raw text into a structured representation.</p><div class="relative"><pre><code class="language-rust code-highlight"><span class="code-line"><span class="token comment">// Implementing conversion from a raw string to an HttpRequest</span>
</span><span class="code-line"><span class="token keyword">impl</span> <span class="token class-name">From</span><span class="token operator">&lt;</span><span class="token class-name">String</span><span class="token operator">&gt;</span> <span class="token keyword">for</span> <span class="token class-name">HttpRequest</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">fn</span> <span class="token function function-definition">from</span><span class="token punctuation">(</span>req<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token keyword">Self</span> <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token keyword">let</span> <span class="token keyword">mut</span> parsed_method <span class="token operator">=</span> <span class="token class-name">Method</span><span class="token punctuation">::</span><span class="token class-name">Uninitialized</span><span class="token punctuation">;</span>
</span><span class="code-line">        <span class="token keyword">let</span> <span class="token keyword">mut</span> parsed_version <span class="token operator">=</span> <span class="token class-name">Version</span><span class="token punctuation">::</span><span class="token constant">V1_1</span><span class="token punctuation">;</span>
</span><span class="code-line">        <span class="token keyword">let</span> <span class="token keyword">mut</span> parsed_resource <span class="token operator">=</span> <span class="token class-name">Resource</span><span class="token punctuation">::</span><span class="token class-name">Path</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">.</span><span class="token function">to_string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">        <span class="token keyword">let</span> <span class="token keyword">mut</span> parsed_headers <span class="token operator">=</span> <span class="token class-name">HashMap</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">        <span class="token keyword">let</span> <span class="token keyword">mut</span> parsed_msg_body <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">        <span class="token comment">// Looping through each line of the raw HTTP request</span>
</span><span class="code-line">        <span class="token keyword">for</span> line <span class="token keyword">in</span> req<span class="token punctuation">.</span><span class="token function">lines</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">            <span class="token comment">// Parsing logic to identify method, version, headers, and message body</span>
</span><span class="code-line">          	<span class="token keyword">if</span> line<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">"HTTP"</span><span class="token punctuation">)</span>
</span><span class="code-line">            	<span class="token punctuation">{</span>
</span><span class="code-line">                	<span class="token keyword">let</span> <span class="token punctuation">(</span>method<span class="token punctuation">,</span> s<span class="token punctuation">,</span> version<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">process_req_line</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">                	parsed_method <span class="token operator">=</span> method<span class="token punctuation">;</span>
</span><span class="code-line">                	parsed_resource <span class="token operator">=</span> resource<span class="token punctuation">;</span>
</span><span class="code-line">                	parsed_version <span class="token operator">=</span> version<span class="token punctuation">;</span>
</span><span class="code-line">            	<span class="token punctuation">}</span>
</span><span class="code-line">            	<span class="token keyword">else</span> <span class="token keyword">if</span> line<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">":"</span><span class="token punctuation">)</span>
</span><span class="code-line">            	<span class="token punctuation">{</span>
</span><span class="code-line">                	<span class="token keyword">let</span> <span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">process_req_header</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">                	parsed_headers<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">            	<span class="token punctuation">}</span>
</span><span class="code-line">            	<span class="token keyword">else</span> <span class="token keyword">if</span> line<span class="token punctuation">.</span><span class="token function">len</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span>
</span><span class="code-line">            	<span class="token punctuation">{</span>
</span><span class="code-line">
</span><span class="code-line">            	<span class="token punctuation">}</span>
</span><span class="code-line">            	<span class="token keyword">else</span><span class="token punctuation">{</span>
</span><span class="code-line">                	parsed_msg_body <span class="token operator">=</span> line<span class="token punctuation">;</span>
</span><span class="code-line">            	<span class="token punctuation">}</span>
</span><span class="code-line">        <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">        <span class="token comment">// Creating and returning an HttpRequest instance</span>
</span><span class="code-line">        <span class="token class-name">HttpRequest</span> <span class="token punctuation">{</span>
</span><span class="code-line">            method<span class="token punctuation">:</span> parsed_method<span class="token punctuation">,</span>
</span><span class="code-line">            version<span class="token punctuation">:</span> parsed_version<span class="token punctuation">,</span>
</span><span class="code-line">            resource<span class="token punctuation">:</span> parsed_resource<span class="token punctuation">,</span>
</span><span class="code-line">            headers<span class="token punctuation">:</span> parsed_headers<span class="token punctuation">,</span>
</span><span class="code-line">            msg_body<span class="token punctuation">:</span> parsed_msg_body<span class="token punctuation">.</span><span class="token function">to_string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token punctuation">}</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><ul><li><p>The <code>From&lt;String&gt;</code> implementation enables the conversion of raw text (<code>String</code>) into an <code>HttpRequest</code> structure.</p></li><li><p>The parsing logic navigates through the incoming text, identifying method, version, headers, and the message body.</p></li></ul><h2 id="step-3-define-enums-for-method-and-version"><a href="https://www.taiwoifedayo.com.ng/blog/http-library#step-3-define-enums-for-method-and-version" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Step 3: Define Enums for Method and Version</h2><p>Enums play a crucial role in representing HTTP methods and versions elegantly.</p><div class="relative"><pre><code class="language-rust code-highlight"><span class="code-line"><span class="token comment">// Enum to represent HTTP methods</span>
</span><span class="code-line"><span class="token attr-name attribute">#[derive(PartialEq)]</span>
</span><span class="code-line"><span class="token attr-name attribute">#[derive(Debug)]</span>
</span><span class="code-line"><span class="token keyword">pub</span> <span class="token keyword">enum</span> <span class="token class-name type-definition">Method</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token class-name">Get</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token class-name">Post</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token class-name">Uninitialized</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// Enum to represent HTTP versions</span>
</span><span class="code-line"><span class="token attr-name attribute">#[derive(PartialEq, Debug)]</span>
</span><span class="code-line"><span class="token keyword">pub</span> <span class="token keyword">enum</span> <span class="token class-name type-definition">Version</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token constant">V1_1</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token constant">V2_0</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token class-name">Uninitialized</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><ul><li><p><strong>Method Enum</strong>: Represents HTTP methods such as GET and POST, with <code>Uninitialized</code> as an indicator when the method is unknown.</p></li><li><p><strong>Version Enum</strong>: Captures HTTP versions, including V1_1 and V2_0, with <code>Uninitialized</code> for cases where the version is yet to be determined.</p></li></ul><h2 id="step-4-add-unit-tests"><a href="https://www.taiwoifedayo.com.ng/blog/http-library#step-4-add-unit-tests" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Step 4: Add Unit Tests</h2><p>Before our library ventures into the world, let's fortify it with unit tests to ensure its resilience.</p><div class="relative"><pre><code class="language-rust code-highlight"><span class="code-line"><span class="token comment">// Unit tests for the library</span>
</span><span class="code-line"><span class="token attr-name attribute">#[cfg(test)]</span>
</span><span class="code-line"><span class="token keyword">mod</span> <span class="token namespace module-declaration">tests</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">use</span> <span class="token keyword">super</span><span class="token punctuation">::</span><span class="token operator">*</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token comment">// Test method for converting raw strings into Method enums</span>
</span><span class="code-line">    <span class="token attr-name attribute">#[test]</span>
</span><span class="code-line">    <span class="token keyword">fn</span> <span class="token function function-definition">test_method_into</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token keyword">let</span> m<span class="token punctuation">:</span> <span class="token class-name">Method</span> <span class="token operator">=</span> <span class="token string">"GET"</span><span class="token punctuation">.</span><span class="token function">into</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">        <span class="token property macro">assert_eq!</span><span class="token punctuation">(</span>m<span class="token punctuation">,</span> <span class="token class-name">Method</span><span class="token punctuation">::</span><span class="token class-name">Get</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token comment">// Test method for converting HTTP version strings into Version enums</span>
</span><span class="code-line">    <span class="token attr-name attribute">#[test]</span>
</span><span class="code-line">    <span class="token keyword">fn</span> <span class="token function function-definition">test_version_into</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token keyword">let</span> m<span class="token punctuation">:</span> <span class="token class-name">Version</span> <span class="token operator">=</span> <span class="token string">"HTTP/1.1"</span><span class="token punctuation">.</span><span class="token function">into</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">        <span class="token property macro">assert_eq!</span><span class="token punctuation">(</span>m<span class="token punctuation">,</span> <span class="token class-name">Version</span><span class="token punctuation">::</span><span class="token constant">V1_1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token comment">// Comprehensive test simulating the arrival of an HTTP request and verifying the parser's accuracy</span>
</span><span class="code-line">    <span class="token attr-name attribute">#[test]</span>
</span><span class="code-line">    <span class="token keyword">fn</span> <span class="token function function-definition">test_incoming_http_request</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token keyword">let</span> s<span class="token punctuation">:</span> <span class="token class-name">String</span> <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">"GET /greeting HTTP/1.1\r\nHost: localhost:3000\r\nUser-Agent: curl/7.64.1\r\nAccept: */*\r\n\r\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">        <span class="token keyword">let</span> <span class="token keyword">mut</span> headers_expected <span class="token operator">=</span> <span class="token class-name">HashMap</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">        headers_expected<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token string">"Host"</span><span class="token punctuation">.</span><span class="token function">into</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">" localhost"</span><span class="token punctuation">.</span><span class="token function">into</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">        headers_expected<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token string">"Accept"</span><span class="token punctuation">.</span><span class="token function">into</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">" */*"</span><span class="token punctuation">.</span><span class="token function">into</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">        headers_expected<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token string">"User-Agent"</span><span class="token punctuation">.</span><span class="token function">into</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">" curl/7.64.1"</span><span class="token punctuation">.</span><span class="token function">into</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">        <span class="token keyword">let</span> req<span class="token punctuation">:</span> <span class="token class-name">HttpRequest</span> <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">into</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">        <span class="token comment">// Assertions to verify parsed HttpRequest components</span>
</span><span class="code-line">        <span class="token property macro">assert_eq!</span><span class="token punctuation">(</span><span class="token class-name">Method</span><span class="token punctuation">::</span><span class="token class-name">Get</span><span class="token punctuation">,</span> req<span class="token punctuation">.</span>method<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">        <span class="token property macro">assert_eq!</span><span class="token punctuation">(</span><span class="token class-name">Version</span><span class="token punctuation">::</span><span class="token constant">V1_1</span><span class="token punctuation">,</span> req<span class="token punctuation">.</span>version<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">        <span class="token property macro">assert_eq!</span><span class="token punctuation">(</span><span class="token class-name">Resource</span><span class="token punctuation">::</span><span class="token class-name">Path</span><span class="token punctuation">(</span><span class="token string">"/greeting"</span><span class="token punctuation">.</span><span class="token function">to_string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> req<span class="token punctuation">.</span>resource<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">        <span class="token property macro">assert_eq!</span><span class="token punctuation">(</span>headers_expected<span class="token punctuation">,</span> req<span class="token punctuation">.</span>headers<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><ul><li><p><strong>Test Method Into</strong>: Ensures the conversion of raw strings into <code>Method</code> enums is accurate.</p></li><li><p><strong>Test Version Into</strong>: Validates the transformation of HTTP version strings into <code>Version</code> enums.</p></li><li><p><strong>Test Incoming HTTP Request</strong>: A comprehensive test simulating the arrival of an HTTP request and verifying the parser's accuracy.</p></li></ul><h2 id="http-response-implementation"><a href="https://www.taiwoifedayo.com.ng/blog/http-library#http-response-implementation" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>HTTP Response Implementation</h2><p>Now, let's shift our focus to handling HTTP responses. We aim to construct well-formed responses to gracefully communicate with clients.</p><h2 id="step-5-define-http-response-components"><a href="https://www.taiwoifedayo.com.ng/blog/http-library#step-5-define-http-response-components" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Step 5: Define HTTP Response Components</h2><p>In <code>src/httpresponse.rs</code>, we define the components of an HTTP response—a structured entity ready to traverse the digital realms.</p><div class="relative"><pre><code class="language-rust code-highlight"><span class="code-line"><span class="token keyword">use</span> <span class="token namespace">std<span class="token punctuation">::</span>collections<span class="token punctuation">::</span></span><span class="token class-name">HashMap</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">use</span> <span class="token namespace">std<span class="token punctuation">::</span>io<span class="token punctuation">::</span></span><span class="token punctuation">{</span><span class="token class-name">Result</span><span class="token punctuation">,</span> <span class="token class-name">Write</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// Struct to represent an HTTP response</span>
</span><span class="code-line"><span class="token attr-name attribute">#[derive(Debug, PartialEq, Clone)]</span>
</span><span class="code-line"><span class="token keyword">pub</span> <span class="token keyword">struct</span> <span class="token class-name type-definition">HttpResponse</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'a</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    version<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token keyword">str</span><span class="token punctuation">,</span>
</span><span class="code-line">    status_code<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token keyword">str</span><span class="token punctuation">,</span>
</span><span class="code-line">    status_text<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token keyword">str</span><span class="token punctuation">,</span>
</span><span class="code-line">    headers<span class="token punctuation">:</span> <span class="token class-name">Option</span><span class="token operator">&lt;</span><span class="token class-name">HashMap</span><span class="token operator">&lt;</span><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token keyword">str</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token keyword">str</span><span class="token operator">&gt;&gt;</span><span class="token punctuation">,</span>
</span><span class="code-line">    body<span class="token punctuation">:</span> <span class="token class-name">Option</span><span class="token operator">&lt;</span><span class="token class-name">String</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><ul><li><strong>HttpResponse Struct</strong>: Represents the essential elements of an HTTP response—version, status code, status text, headers, and the body.</li></ul><h2 id="step-6-implement-response-construction"><a href="https://www.taiwoifedayo.com.ng/blog/http-library#step-6-implement-response-construction" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Step 6: Implement Response Construction</h2><p>We now create methods to construct HTTP responses, bringing life to the structured <code>HttpResponse</code>.</p><div class="relative"><pre><code class="language-rust code-highlight"><span class="code-line"><span class="token comment">// Implementing default for HttpResponse</span>
</span><span class="code-line"><span class="token keyword">impl</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'a</span><span class="token operator">&gt;</span> <span class="token class-name">Default</span> <span class="token keyword">for</span> <span class="token class-name">HttpResponse</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'a</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">fn</span> <span class="token function function-definition">default</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token keyword">Self</span> <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token class-name">HttpResponse</span> <span class="token punctuation">{</span>
</span><span class="code-line">            version<span class="token punctuation">:</span> <span class="token string">"HTTP/1.1"</span><span class="token punctuation">,</span>
</span><span class="code-line">            status_code<span class="token punctuation">:</span> <span class="token string">"200"</span><span class="token punctuation">,</span>
</span><span class="code-line">            status_text<span class="token punctuation">:</span> <span class="token string">"OK"</span><span class="token punctuation">,</span>
</span><span class="code-line">            headers<span class="token punctuation">:</span> <span class="token class-name">None</span><span class="token punctuation">,</span>
</span><span class="code-line">            body<span class="token punctuation">:</span> <span class="token class-name">None</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token punctuation">}</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// Implementation for HttpResponse</span>
</span><span class="code-line"><span class="token keyword">impl</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'a</span><span class="token operator">&gt;</span> <span class="token class-name">HttpResponse</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'a</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token comment">// Constructor for creating an HttpResponse instance</span>
</span><span class="code-line">    <span class="token keyword">pub</span> <span class="token keyword">fn</span> <span class="token function function-definition">new</span><span class="token punctuation">(</span>
</span><span class="code-line">        status_code<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token keyword">str</span><span class="token punctuation">,</span>
</span><span class="code-line">        headers<span class="token punctuation">:</span> <span class="token class-name">Option</span><span class="token operator">&lt;</span><span class="token class-name">HashMap</span><span class="token operator">&lt;</span><span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token keyword">str</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span><span class="token lifetime-annotation symbol">'a</span> <span class="token keyword">str</span><span class="token operator">&gt;&gt;</span><span class="token punctuation">,</span>
</span><span class="code-line">        body<span class="token punctuation">:</span> <span class="token class-name">Option</span><span class="token operator">&lt;</span><span class="token class-name">String</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token class-name">HttpResponse</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'a</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token comment">// Creating a response with specified status code, headers, and body</span>
</span><span class="code-line">
</span><span class="code-line">        <span class="token keyword">let</span> <span class="token keyword">mut</span> response<span class="token punctuation">:</span> <span class="token class-name">HttpResponse</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'a</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token class-name">HttpResponse</span><span class="token punctuation">::</span><span class="token function">default</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">        <span class="token keyword">if</span> status_code <span class="token operator">!=</span> <span class="token string">"200"</span> <span class="token punctuation">{</span>
</span><span class="code-line">            response<span class="token punctuation">.</span>status_code <span class="token operator">=</span> status_code<span class="token punctuation">.</span><span class="token function">into</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">        <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">        <span class="token comment">// Handling headers, setting defaults if not provided</span>
</span><span class="code-line">        response<span class="token punctuation">.</span>headers <span class="token operator">=</span> <span class="token keyword">match</span> <span class="token operator">&amp;</span>headers <span class="token punctuation">{</span>
</span><span class="code-line">            <span class="token class-name">Some</span><span class="token punctuation">(</span>_h<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> headers<span class="token punctuation">,</span>
</span><span class="code-line">            <span class="token class-name">None</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">                <span class="token keyword">let</span> <span class="token keyword">mut</span> h <span class="token operator">=</span> <span class="token class-name">HashMap</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">                h<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token string">"Content-Type"</span><span class="token punctuation">,</span> <span class="token string">"text/html"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">                <span class="token class-name">Some</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span>
</span><span class="code-line">            <span class="token punctuation">}</span>
</span><span class="code-line">        <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">        <span class="token comment">// Determining status text based on status code</span>
</span><span class="code-line">        response<span class="token punctuation">.</span>status_text <span class="token operator">=</span> <span class="token keyword">match</span> response<span class="token punctuation">.</span>status_code <span class="token punctuation">{</span>
</span><span class="code-line">            <span class="token string">"200"</span> <span class="token operator">=&gt;</span> <span class="token string">"OK"</span><span class="token punctuation">.</span><span class="token function">into</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">            <span class="token string">"400"</span> <span class="token operator">=&gt;</span> <span class="token string">"Bad Request"</span><span class="token punctuation">.</span><span class="token function">into</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">            <span class="token string">"404"</span> <span class="token operator">=&gt;</span> <span class="token string">"Not Found"</span><span class="token punctuation">.</span><span class="token function">into</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">            <span class="token string">"500"</span> <span class="token operator">=&gt;</span> <span class="token string">"Internal Server Error"</span><span class="token punctuation">.</span><span class="token function">into</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">            _ <span class="token operator">=&gt;</span> <span class="token string">"Not Found"</span><span class="token punctuation">.</span><span class="token function">into</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">        <span class="token comment">// Setting response body</span>
</span><span class="code-line">        response<span class="token punctuation">.</span>body <span class="token operator">=</span> body<span class="token punctuation">;</span>
</span><span class="code-line">        response
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token comment">// Method to send the response to a writable stream</span>
</span><span class="code-line">    <span class="token keyword">pub</span> <span class="token keyword">fn</span> <span class="token function function-definition">send_response</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">self</span><span class="token punctuation">,</span> write_stream<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token keyword">mut</span> <span class="token keyword">impl</span> <span class="token class-name">Write</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token class-name">Result</span><span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token keyword">self</span><span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">        <span class="token keyword">let</span> response_string<span class="token punctuation">:</span> <span class="token class-name">String</span> <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">     		<span class="token comment">// Writing the response string to the provided writable stream</span>
</span><span class="code-line">        <span class="token keyword">let</span> _ <span class="token operator">=</span> <span class="token property macro">write!</span><span class="token punctuation">(</span>write_stream<span class="token punctuation">,</span> <span class="token string">"{}"</span><span class="token punctuation">,</span> response_string<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">        <span class="token class-name">Ok</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><ul><li><p><strong>Default Implementation</strong>: The default response is a serene <code>200 OK</code> response with a content type of <code>text/html</code>. This ensures a pleasant default experience unless customization is needed.</p></li><li><p><strong>New Method</strong>: A constructor for crafting responses based on status codes, headers, and a body. This method breathes life into the structured response.</p></li><li><p><strong>Send Response Method</strong>: A messenger is summoned, allowing the response to traverse the realms through a writable stream.</p></li></ul><h2 id="step-7-implement-response-serialization"><a href="https://www.taiwoifedayo.com.ng/blog/http-library#step-7-implement-response-serialization" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Step 7: Implement Response Serialization</h2><p>Our grand finale involves converting the structured response into the language of the web—a string ready to traverse the vast digital landscapes.</p><div class="relative"><pre><code class="language-rust code-highlight"><span class="code-line"><span class="token comment">// Implementation for converting HttpResponse to a String</span>
</span><span class="code-line"><span class="token keyword">impl</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'a</span><span class="token operator">&gt;</span> <span class="token class-name">From</span><span class="token operator">&lt;</span><span class="token class-name">HttpResponse</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'a</span><span class="token operator">&gt;&gt;</span> <span class="token keyword">for</span> <span class="token class-name">String</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">fn</span> <span class="token function function-definition">from</span><span class="token punctuation">(</span>res<span class="token punctuation">:</span> <span class="token class-name">HttpResponse</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token class-name">String</span> <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token keyword">let</span> res1 <span class="token operator">=</span> res<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">        <span class="token comment">// Formatting the response as a string</span>
</span><span class="code-line">        <span class="token property macro">format!</span><span class="token punctuation">(</span>
</span><span class="code-line">            <span class="token string">"{} {} {}\r\n{}Content-Length: {}\r\n\r\n{}"</span><span class="token punctuation">,</span>
</span><span class="code-line">            <span class="token operator">&amp;</span>res1<span class="token punctuation">.</span><span class="token function">version</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">            <span class="token operator">&amp;</span>res1<span class="token punctuation">.</span><span class="token function">status_code</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">            <span class="token operator">&amp;</span>res1<span class="token punctuation">.</span><span class="token function">status_text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">            <span class="token operator">&amp;</span>res1<span class="token punctuation">.</span><span class="token function">headers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">            <span class="token operator">&amp;</span>res<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">unwrap_or</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">.</span><span class="token function">to_string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">len</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">            <span class="token operator">&amp;</span>res1<span class="token punctuation">.</span><span class="token function">body</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">        <span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><ul><li><strong>From Implementation</strong>: Our sorcery reaches its zenith, translating the structured response into a string that echoes across the bytes.</li></ul><h2 id="using-the-http-library-in-projects"><a href="https://www.taiwoifedayo.com.ng/blog/http-library#using-the-http-library-in-projects" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Using the HTTP Library in Projects</h2><p>Now that we've crafted our HTTP library, let's see how you can use it in your Rust projects.</p><ol><li><p>Add the library as a dependency in your <code>Cargo.toml</code> file:</p><div class="relative"><pre><code class="code-highlight language-toml"><span class="code-line"><span class="token punctuation">[</span><span class="token class-name table">dependencies</span><span class="token punctuation">]</span>
</span><span class="code-line"><span class="token property key">http-library</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span> <span class="token property key">path</span> <span class="token punctuation">=</span> <span class="token string">"./path/to/http-library"</span> <span class="token punctuation">}</span>
</span></code></pre></div><p>Make sure to replace <code>./path/to/http-library</code> with the actual path to your HTTP library.</p></li><li><p>Import the library in your Rust code:</p><div class="relative"><pre><code class="language-rust code-highlight"><span class="code-line"><span class="token keyword">extern</span> <span class="token keyword">crate</span> <span class="token namespace module-declaration">http_library</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">use</span> <span class="token namespace">http_library<span class="token punctuation">::</span></span><span class="token punctuation">{</span><span class="token class-name">HttpRequest</span><span class="token punctuation">,</span> <span class="token class-name">HttpResponse</span><span class="token punctuation">,</span> <span class="token class-name">Method</span><span class="token punctuation">,</span> <span class="token class-name">Version</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></code></pre></div></li><li><p>Create an HTTP request:</p><div class="relative"><pre><code class="language-rust code-highlight"><span class="code-line"><span class="token keyword">let</span> raw_request <span class="token operator">=</span> <span class="token string">"GET /greeting HTTP/1.1\r\nHost: localhost:3000\r\nUser-Agent: curl/7.64.1\r\nAccept: */*\r\n\r\n"</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">let</span> http_request<span class="token punctuation">:</span> <span class="token class-name">HttpRequest</span> <span class="token operator">=</span> raw_request<span class="token punctuation">.</span><span class="token function">into</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre></div></li><li><p>Create an HTTP response:</p><div class="relative"><pre><code class="language-rust code-highlight"><span class="code-line"><span class="token keyword">let</span> http_response <span class="token operator">=</span> <span class="token class-name">HttpResponse</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token string">"200"</span><span class="token punctuation">,</span> <span class="token class-name">None</span><span class="token punctuation">,</span> <span class="token class-name">Some</span><span class="token punctuation">(</span><span class="token string">"Hello, World!"</span><span class="token punctuation">.</span><span class="token function">to_string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre></div></li><li><p>Send the HTTP response to a writable stream:</p><div class="relative"><pre><code class="language-rust code-highlight"><span class="code-line"><span class="token keyword">let</span> <span class="token keyword">mut</span> write_stream <span class="token operator">=</span> <span class="token class-name">Vec</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Replace this with your actual writable stream</span>
</span><span class="code-line">http_response<span class="token punctuation">.</span><span class="token function">send_response</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">mut</span> write_stream<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">expect</span><span class="token punctuation">(</span><span class="token string">"Failed to send response"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre></div></li></ol><h2 id="conclusion"><a href="https://www.taiwoifedayo.com.ng/blog/http-library#conclusion" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Conclusion</h2><p>In this journey, you've explored the creation of an HTTP library in Rust with a focus on clarity and professionalism. Your code transforms raw text into structured entities and vice versa, establishing a robust foundation for web communication.</p><p>As you continue your exploration, remember that the web is a vast, interconnected tapestry awaiting your influence. With Rust as your tool, the adventure in web development is boundless and thrilling.</p><p>Feel free to extend this library, adding features and refining your code. With every line written, you contribute to the narrative of the web. Happy coding, and may your Rust adventures be both elegant and exciting.</p></div><div class="grid place-items-center pt-6 pb-6 text-sm text-gray-700 dark:text-gray-300"><div class="flex items-center space-x-4"><button aria-label="twitter" class="react-share__ShareButton flex items-center overflow-hidden rounded-full !bg-[#1da1f2] hover:scale-110" style="background-color: transparent; border: none; padding: 0px; font: inherit; color: inherit; cursor: pointer;"><a class="social-icon" aria-label="twitter" style="display: inline-block; width: 35px; height: 35px; position: relative; overflow: hidden; vertical-align: middle;"><div class="social-container" style="position: absolute; top: 0px; left: 0px; width: 100%; height: 100%;"><svg class="social-svg" viewBox="0 0 64 64" style="border-radius: 50%; position: absolute; top: 0px; left: 0px; width: 100%; height: 100%; fill-rule: evenodd;"><g class="social-svg-background" style="transition: fill 170ms ease-in-out 0s; fill: transparent;"><circle cx="32" cy="32" r="31"></circle></g><g class="social-svg-icon" style="transition: fill 170ms ease-in-out 0s; fill: rgb(255, 255, 255);"><path d="m 48.1,22.1 c -1.223105,0.430685 -2.4,0.761371 -3.8,1 1.4,-0.8 2.4,-2.1 2.9,-3.6 -1.3,0.8 -2.7,1.3 -4.2,1.6 -1.2,-1.3 -3,-2.1 -4.8,-2.1 -3.6,0 -6.6,2.9 -6.6,6.6 0,0.5 0.1,1 0.2,1.5 -5.5,-0.3 -10.3,-2.9 -13.5,-6.9 -0.6,1 -0.9,2.1 -0.9,3.3 0,2.3 1.2,4.3 2.9,5.5 -1.1,0 -2.1,-0.3 -3,-0.8 v 0.1 c 0,3.2 2.3,5.8 5.3,6.4 -0.6,0.1 -1.1,0.2 -1.7,0.2 -0.4,0 -0.8,0 -1.2,-0.1 0.8,2.6 3.3,4.5 6.1,4.6 -2.2,1.8 -5.1,2.8 -8.2,2.8 -0.5,0 -1.1,0 -1.6,-0.1 C 18.9,44 22.4,45 26.1,45 38.2,45 44.43575,34.996634 44.67774,26.3 L 44.7,25.5 c 1.2,-1 2.5,-2.1 3.4,-3.4 z"></path></g><g class="social-svg-mask" style="transition: fill 170ms ease-in-out 0s; fill: rgb(29, 161, 242);"><path d="M0,0v64h64V0H0z M44.7,25.5c0,0.3,0,0.6,0,0.8C44.7,35,38.1,45,26.1,45c-3.7,0-7.2-1.1-10.1-2.9 c0.5,0.1,1,0.1,1.6,0.1c3.1,0,5.9-1,8.2-2.8c-2.9-0.1-5.3-2-6.1-4.6c0.4,0.1,0.8,0.1,1.2,0.1c0.6,0,1.2-0.1,1.7-0.2 c-3-0.6-5.3-3.3-5.3-6.4c0,0,0-0.1,0-0.1c0.9,0.5,1.9,0.8,3,0.8c-1.8-1.2-2.9-3.2-2.9-5.5c0-1.2,0.3-2.3,0.9-3.3 c3.2,4,8.1,6.6,13.5,6.9c-0.1-0.5-0.2-1-0.2-1.5c0-3.6,2.9-6.6,6.6-6.6c1.9,0,3.6,0.8,4.8,2.1c1.5-0.3,2.9-0.8,4.2-1.6 c-0.5,1.5-1.5,2.8-2.9,3.6c1.3-0.2,2.6-0.5,3.8-1C47.1,23.4,46,24.5,44.7,25.5z"></path></g></svg></div></a></button><button aria-label="facebook" class="react-share__ShareButton flex items-center overflow-hidden rounded-full !bg-[#1877f2] hover:scale-110" style="background-color: transparent; border: none; padding: 0px; font: inherit; color: inherit; cursor: pointer;"><a class="social-icon" aria-label="facebook" style="display: inline-block; width: 35px; height: 35px; position: relative; overflow: hidden; vertical-align: middle;"><div class="social-container" style="position: absolute; top: 0px; left: 0px; width: 100%; height: 100%;"><svg class="social-svg" viewBox="0 0 64 64" style="border-radius: 50%; position: absolute; top: 0px; left: 0px; width: 100%; height: 100%; fill-rule: evenodd;"><g class="social-svg-background" style="transition: fill 170ms ease-in-out 0s; fill: transparent;"><circle cx="32" cy="32" r="31"></circle></g><g class="social-svg-icon" style="transition: fill 170ms ease-in-out 0s; fill: rgb(255, 255, 255);"><path d="M34.1,47V33.3h4.6l0.7-5.3h-5.3v-3.4c0-1.5,0.4-2.6,2.6-2.6l2.8,0v-4.8c-0.5-0.1-2.2-0.2-4.1-0.2 c-4.1,0-6.9,2.5-6.9,7V28H24v5.3h4.6V47H34.1z"></path></g><g class="social-svg-mask" style="transition: fill 170ms ease-in-out 0s; fill: rgb(24, 119, 242);"><path d="M0,0v64h64V0H0z M39.6,22l-2.8,0c-2.2,0-2.6,1.1-2.6,2.6V28h5.3l-0.7,5.3h-4.6V47h-5.5V33.3H24V28h4.6V24 c0-4.6,2.8-7,6.9-7c2,0,3.6,0.1,4.1,0.2V22z"></path></g></svg></div></a></button><button aria-label="email" class="react-share__ShareButton flex items-center overflow-hidden rounded-full !bg-[#B61AC1] hover:scale-110" style="background-color: transparent; border: none; padding: 0px; font: inherit; color: inherit; cursor: pointer;"><a class="social-icon" aria-label="email" style="display: inline-block; width: 35px; height: 35px; position: relative; overflow: hidden; vertical-align: middle;"><div class="social-container" style="position: absolute; top: 0px; left: 0px; width: 100%; height: 100%;"><svg class="social-svg" viewBox="0 0 64 64" style="border-radius: 50%; position: absolute; top: 0px; left: 0px; width: 100%; height: 100%; fill-rule: evenodd;"><g class="social-svg-background" style="transition: fill 170ms ease-in-out 0s; fill: transparent;"><circle cx="32" cy="32" r="31"></circle></g><g class="social-svg-icon" style="transition: fill 170ms ease-in-out 0s; fill: rgb(255, 255, 255);"><path d="M17,22v20h30V22H17z M41.1,25L32,32.1L22.9,25H41.1z M20,39V26.6l12,9.3l12-9.3V39H20z"></path></g><g class="social-svg-mask" style="transition: fill 170ms ease-in-out 0s; fill: rgb(182, 26, 193);"><path d="M41.1,25H22.9l9.1,7.1L41.1,25z M44,26.6l-12,9.3l-12-9.3V39h24V26.6z M0,0v64h64V0H0z M47,42H17V22h30V42z"></path></g></svg></div></a></button><button aria-label="linkedin" class="react-share__ShareButton flex items-center overflow-hidden rounded-full !bg-[#0072b1] hover:scale-110" style="background-color: transparent; border: none; padding: 0px; font: inherit; color: inherit; cursor: pointer;"><a class="social-icon" aria-label="linkedin" style="display: inline-block; width: 35px; height: 35px; position: relative; overflow: hidden; vertical-align: middle;"><div class="social-container" style="position: absolute; top: 0px; left: 0px; width: 100%; height: 100%;"><svg class="social-svg" viewBox="0 0 64 64" style="border-radius: 50%; position: absolute; top: 0px; left: 0px; width: 100%; height: 100%; fill-rule: evenodd;"><g class="social-svg-background" style="transition: fill 170ms ease-in-out 0s; fill: transparent;"><circle cx="32" cy="32" r="31"></circle></g><g class="social-svg-icon" style="transition: fill 170ms ease-in-out 0s; fill: rgb(255, 255, 255);"><path d="M20.4,44h5.4V26.6h-5.4V44z M23.1,18c-1.7,0-3.1,1.4-3.1,3.1c0,1.7,1.4,3.1,3.1,3.1 c1.7,0,3.1-1.4,3.1-3.1C26.2,19.4,24.8,18,23.1,18z M39.5,26.2c-2.6,0-4.4,1.4-5.1,2.8h-0.1v-2.4h-5.2V44h5.4v-8.6 c0-2.3,0.4-4.5,3.2-4.5c2.8,0,2.8,2.6,2.8,4.6V44H46v-9.5C46,29.8,45,26.2,39.5,26.2z"></path></g><g class="social-svg-mask" style="transition: fill 170ms ease-in-out 0s; fill: rgb(0, 114, 177);"><path d="M0,0v64h64V0H0z M25.8,44h-5.4V26.6h5.4V44z M23.1,24.3c-1.7,0-3.1-1.4-3.1-3.1c0-1.7,1.4-3.1,3.1-3.1 c1.7,0,3.1,1.4,3.1,3.1C26.2,22.9,24.8,24.3,23.1,24.3z M46,44h-5.4v-8.4c0-2,0-4.6-2.8-4.6c-2.8,0-3.2,2.2-3.2,4.5V44h-5.4V26.6 h5.2V29h0.1c0.7-1.4,2.5-2.8,5.1-2.8c5.5,0,6.5,3.6,6.5,8.3V44z"></path></g></svg></div></a></button><button aria-label="reddit" class="react-share__ShareButton flex items-center overflow-hidden rounded-full !bg-[#ff4500] hover:scale-110" style="background-color: transparent; border: none; padding: 0px; font: inherit; color: inherit; cursor: pointer;"><a class="social-icon" aria-label="reddit" style="display: inline-block; width: 35px; height: 35px; position: relative; overflow: hidden; vertical-align: middle;"><div class="social-container" style="position: absolute; top: 0px; left: 0px; width: 100%; height: 100%;"><svg class="social-svg" viewBox="0 0 64 64" style="border-radius: 50%; position: absolute; top: 0px; left: 0px; width: 100%; height: 100%; fill-rule: evenodd;"><g class="social-svg-background" style="transition: fill 170ms ease-in-out 0s; fill: transparent;"><circle cx="32" cy="32" r="31"></circle></g><g class="social-svg-icon" style="transition: fill 170ms ease-in-out 0s; fill: rgb(255, 255, 255);"><path d="M 53.34375 32 C 53.277344 30.160156 52.136719 28.53125 50.429688 27.839844 C 48.722656 27.148438 46.769531 27.523438 45.441406 28.800781 C 41.800781 26.324219 37.519531 24.957031 33.121094 24.863281 L 35.199219 14.878906 L 42.046875 16.320312 C 42.214844 17.882812 43.496094 19.09375 45.066406 19.171875 C 46.636719 19.253906 48.03125 18.183594 48.359375 16.644531 C 48.6875 15.105469 47.847656 13.558594 46.382812 12.992188 C 44.914062 12.425781 43.253906 13.007812 42.464844 14.367188 L 34.625 12.800781 C 34.363281 12.742188 34.09375 12.792969 33.871094 12.9375 C 33.648438 13.082031 33.492188 13.308594 33.441406 13.566406 L 31.070312 24.671875 C 26.617188 24.738281 22.277344 26.105469 18.59375 28.609375 C 17.242188 27.339844 15.273438 26.988281 13.570312 27.707031 C 11.863281 28.429688 10.746094 30.089844 10.71875 31.941406 C 10.691406 33.789062 11.757812 35.484375 13.441406 36.257812 C 13.402344 36.726562 13.402344 37.195312 13.441406 37.664062 C 13.441406 44.832031 21.792969 50.65625 32.097656 50.65625 C 42.398438 50.65625 50.753906 44.832031 50.753906 37.664062 C 50.789062 37.195312 50.789062 36.726562 50.753906 36.257812 C 52.363281 35.453125 53.371094 33.800781 53.34375 32 Z M 21.34375 35.199219 C 21.34375 33.433594 22.777344 32 24.542969 32 C 26.3125 32 27.742188 33.433594 27.742188 35.199219 C 27.742188 36.96875 26.3125 38.398438 24.542969 38.398438 C 22.777344 38.398438 21.34375 36.96875 21.34375 35.199219 Z M 39.9375 44 C 37.664062 45.710938 34.871094 46.582031 32.03125 46.464844 C 29.191406 46.582031 26.398438 45.710938 24.128906 44 C 23.847656 43.65625 23.871094 43.15625 24.183594 42.839844 C 24.5 42.527344 25 42.503906 25.34375 42.785156 C 27.269531 44.195312 29.617188 44.90625 32 44.800781 C 34.386719 44.929688 36.746094 44.242188 38.6875 42.847656 C 39.042969 42.503906 39.605469 42.511719 39.953125 42.863281 C 40.296875 43.21875 40.289062 43.785156 39.9375 44.128906 Z M 39.359375 38.527344 C 37.59375 38.527344 36.160156 37.09375 36.160156 35.328125 C 36.160156 33.5625 37.59375 32.128906 39.359375 32.128906 C 41.128906 32.128906 42.558594 33.5625 42.558594 35.328125 C 42.59375 36.203125 42.269531 37.054688 41.65625 37.6875 C 41.046875 38.316406 40.203125 38.664062 39.328125 38.65625 Z M 39.359375 38.527344"></path></g><g class="social-svg-mask" style="transition: fill 170ms ease-in-out 0s; fill: rgb(255, 69, 0);"><path d="M0,0v64h64V0H0z M 53.34375 32 C 53.277344 30.160156 52.136719 28.53125 50.429688 27.839844 C 48.722656 27.148438 46.769531 27.523438 45.441406 28.800781 C 41.800781 26.324219 37.519531 24.957031 33.121094 24.863281 L 35.199219 14.878906 L 42.046875 16.320312 C 42.214844 17.882812 43.496094 19.09375 45.066406 19.171875 C 46.636719 19.253906 48.03125 18.183594 48.359375 16.644531 C 48.6875 15.105469 47.847656 13.558594 46.382812 12.992188 C 44.914062 12.425781 43.253906 13.007812 42.464844 14.367188 L 34.625 12.800781 C 34.363281 12.742188 34.09375 12.792969 33.871094 12.9375 C 33.648438 13.082031 33.492188 13.308594 33.441406 13.566406 L 31.070312 24.671875 C 26.617188 24.738281 22.277344 26.105469 18.59375 28.609375 C 17.242188 27.339844 15.273438 26.988281 13.570312 27.707031 C 11.863281 28.429688 10.746094 30.089844 10.71875 31.941406 C 10.691406 33.789062 11.757812 35.484375 13.441406 36.257812 C 13.402344 36.726562 13.402344 37.195312 13.441406 37.664062 C 13.441406 44.832031 21.792969 50.65625 32.097656 50.65625 C 42.398438 50.65625 50.753906 44.832031 50.753906 37.664062 C 50.789062 37.195312 50.789062 36.726562 50.753906 36.257812 C 52.363281 35.453125 53.371094 33.800781 53.34375 32 Z M 21.34375 35.199219 C 21.34375 33.433594 22.777344 32 24.542969 32 C 26.3125 32 27.742188 33.433594 27.742188 35.199219 C 27.742188 36.96875 26.3125 38.398438 24.542969 38.398438 C 22.777344 38.398438 21.34375 36.96875 21.34375 35.199219 Z M 39.9375 44 C 37.664062 45.710938 34.871094 46.582031 32.03125 46.464844 C 29.191406 46.582031 26.398438 45.710938 24.128906 44 C 23.847656 43.65625 23.871094 43.15625 24.183594 42.839844 C 24.5 42.527344 25 42.503906 25.34375 42.785156 C 27.269531 44.195312 29.617188 44.90625 32 44.800781 C 34.386719 44.929688 36.746094 44.242188 38.6875 42.847656 C 39.042969 42.503906 39.605469 42.511719 39.953125 42.863281 C 40.296875 43.21875 40.289062 43.785156 39.9375 44.128906 Z M 39.359375 38.527344 C 37.59375 38.527344 36.160156 37.09375 36.160156 35.328125 C 36.160156 33.5625 37.59375 32.128906 39.359375 32.128906 C 41.128906 32.128906 42.558594 33.5625 42.558594 35.328125 C 42.59375 36.203125 42.269531 37.054688 41.65625 37.6875 C 41.046875 38.316406 40.203125 38.664062 39.328125 38.65625 Z M 39.359375 38.527344"></path></g></svg></div></a></button><button aria-label="whatsapp" class="react-share__ShareButton flex items-center overflow-hidden rounded-full !bg-[#25D366] hover:scale-110" style="background-color: transparent; border: none; padding: 0px; font: inherit; color: inherit; cursor: pointer;"><a class="social-icon" aria-label="whatsapp" style="display: inline-block; width: 35px; height: 35px; position: relative; overflow: hidden; vertical-align: middle;"><div class="social-container" style="position: absolute; top: 0px; left: 0px; width: 100%; height: 100%;"><svg class="social-svg" viewBox="0 0 64 64" style="border-radius: 50%; position: absolute; top: 0px; left: 0px; width: 100%; height: 100%; fill-rule: evenodd;"><g class="social-svg-background" style="transition: fill 170ms ease-in-out 0s; fill: transparent;"><circle cx="32" cy="32" r="31"></circle></g><g class="social-svg-icon" style="transition: fill 170ms ease-in-out 0s; fill: rgb(255, 255, 255);"><path d="M 48 31.589844 C 48 40.195312 40.96875 47.175781 32.289062 47.175781 C 29.535156 47.175781 26.949219 46.472656 24.695312 45.234375 L 16 48 L 18.835938 39.636719 C 17.40625 37.289062 16.582031 34.53125 16.582031 31.589844 C 16.582031 22.980469 23.613281 16 32.289062 16 C 40.96875 16 48 22.980469 48 31.589844 Z M 32.289062 18.484375 C 25.007812 18.484375 19.082031 24.363281 19.082031 31.589844 C 19.082031 34.457031 20.019531 37.109375 21.597656 39.269531 L 19.949219 44.136719 L 25.023438 42.527344 C 27.109375 43.894531 29.609375 44.691406 32.292969 44.691406 C 39.574219 44.691406 45.5 38.816406 45.5 31.589844 C 45.5 24.363281 39.574219 18.484375 32.289062 18.484375 Z M 40.222656 35.179688 C 40.125 35.019531 39.871094 34.921875 39.484375 34.730469 C 39.101562 34.542969 37.207031 33.617188 36.855469 33.488281 C 36.5 33.363281 36.242188 33.296875 35.988281 33.679688 C 35.730469 34.0625 34.992188 34.921875 34.769531 35.179688 C 34.542969 35.433594 34.320312 35.464844 33.933594 35.273438 C 33.546875 35.082031 32.308594 34.679688 30.835938 33.378906 C 29.691406 32.367188 28.917969 31.117188 28.695312 30.734375 C 28.472656 30.351562 28.671875 30.144531 28.863281 29.953125 C 29.039062 29.78125 29.25 29.507812 29.441406 29.285156 C 29.636719 29.0625 29.699219 28.902344 29.828125 28.648438 C 29.957031 28.390625 29.890625 28.167969 29.792969 27.976562 C 29.699219 27.785156 28.925781 25.90625 28.605469 25.140625 C 28.285156 24.375 27.964844 24.503906 27.742188 24.503906 C 27.515625 24.503906 27.257812 24.472656 27.003906 24.472656 C 26.746094 24.472656 26.328125 24.566406 25.976562 24.949219 C 25.621094 25.332031 24.628906 26.257812 24.628906 28.136719 C 24.628906 30.015625 26.007812 31.832031 26.199219 32.085938 C 26.394531 32.34375 28.863281 36.324219 32.777344 37.855469 C 36.691406 39.386719 36.691406 38.875 37.398438 38.8125 C 38.105469 38.746094 39.675781 37.886719 40 36.996094 C 40.320312 36.101562 40.320312 35.335938 40.222656 35.179688 Z M 40.222656 35.179688"></path></g><g class="social-svg-mask" style="transition: fill 170ms ease-in-out 0s; fill: rgb(37, 211, 102);"><path d="M0,0v64h64V0H0z M 48 31.589844 C 48 40.195312 40.96875 47.175781 32.289062 47.175781 C 29.535156 47.175781 26.949219 46.472656 24.695312 45.234375 L 16 48 L 18.835938 39.636719 C 17.40625 37.289062 16.582031 34.53125 16.582031 31.589844 C 16.582031 22.980469 23.613281 16 32.289062 16 C 40.96875 16 48 22.980469 48 31.589844 Z M 32.289062 18.484375 C 25.007812 18.484375 19.082031 24.363281 19.082031 31.589844 C 19.082031 34.457031 20.019531 37.109375 21.597656 39.269531 L 19.949219 44.136719 L 25.023438 42.527344 C 27.109375 43.894531 29.609375 44.691406 32.292969 44.691406 C 39.574219 44.691406 45.5 38.816406 45.5 31.589844 C 45.5 24.363281 39.574219 18.484375 32.289062 18.484375 Z M 40.222656 35.179688 C 40.125 35.019531 39.871094 34.921875 39.484375 34.730469 C 39.101562 34.542969 37.207031 33.617188 36.855469 33.488281 C 36.5 33.363281 36.242188 33.296875 35.988281 33.679688 C 35.730469 34.0625 34.992188 34.921875 34.769531 35.179688 C 34.542969 35.433594 34.320312 35.464844 33.933594 35.273438 C 33.546875 35.082031 32.308594 34.679688 30.835938 33.378906 C 29.691406 32.367188 28.917969 31.117188 28.695312 30.734375 C 28.472656 30.351562 28.671875 30.144531 28.863281 29.953125 C 29.039062 29.78125 29.25 29.507812 29.441406 29.285156 C 29.636719 29.0625 29.699219 28.902344 29.828125 28.648438 C 29.957031 28.390625 29.890625 28.167969 29.792969 27.976562 C 29.699219 27.785156 28.925781 25.90625 28.605469 25.140625 C 28.285156 24.375 27.964844 24.503906 27.742188 24.503906 C 27.515625 24.503906 27.257812 24.472656 27.003906 24.472656 C 26.746094 24.472656 26.328125 24.566406 25.976562 24.949219 C 25.621094 25.332031 24.628906 26.257812 24.628906 28.136719 C 24.628906 30.015625 26.007812 31.832031 26.199219 32.085938 C 26.394531 32.34375 28.863281 36.324219 32.777344 37.855469 C 36.691406 39.386719 36.691406 38.875 37.398438 38.8125 C 38.105469 38.746094 39.675781 37.886719 40 36.996094 C 40.320312 36.101562 40.320312 35.335938 40.222656 35.179688 Z M 40.222656 35.179688"></path></g></svg></div></a></button><a class="flex items-center overflow-hidden rounded-full !bg-[#5A6272] hover:scale-110" target="_blank" rel="noopener noreferrer" href="https://github.com/techmornach/blog/blob/master/data/blog/http-library.mdx"><a class="social-icon" aria-label="github" style="display: inline-block; width: 35px; height: 35px; position: relative; overflow: hidden; vertical-align: middle;"><div class="social-container" style="position: absolute; top: 0px; left: 0px; width: 100%; height: 100%;"><svg class="social-svg" viewBox="0 0 64 64" style="border-radius: 50%; position: absolute; top: 0px; left: 0px; width: 100%; height: 100%; fill-rule: evenodd;"><g class="social-svg-background" style="transition: fill 170ms ease-in-out 0s; fill: transparent;"><circle cx="32" cy="32" r="31"></circle></g><g class="social-svg-icon" style="transition: fill 170ms ease-in-out 0s; fill: rgb(255, 255, 255);"><path d="M32,16c-8.8,0-16,7.2-16,16c0,7.1,4.6,13.1,10.9,15.2 c0.8,0.1,1.1-0.3,1.1-0.8c0-0.4,0-1.4,0-2.7c-4.5,1-5.4-2.1-5.4-2.1c-0.7-1.8-1.8-2.3-1.8-2.3c-1.5-1,0.1-1,0.1-1 c1.6,0.1,2.5,1.6,2.5,1.6c1.4,2.4,3.7,1.7,4.7,1.3c0.1-1,0.6-1.7,1-2.1c-3.6-0.4-7.3-1.8-7.3-7.9c0-1.7,0.6-3.2,1.6-4.3 c-0.2-0.4-0.7-2,0.2-4.2c0,0,1.3-0.4,4.4,1.6c1.3-0.4,2.6-0.5,4-0.5c1.4,0,2.7,0.2,4,0.5c3.1-2.1,4.4-1.6,4.4-1.6 c0.9,2.2,0.3,3.8,0.2,4.2c1,1.1,1.6,2.5,1.6,4.3c0,6.1-3.7,7.5-7.3,7.9c0.6,0.5,1.1,1.5,1.1,3c0,2.1,0,3.9,0,4.4 c0,0.4,0.3,0.9,1.1,0.8C43.4,45.1,48,39.1,48,32C48,23.2,40.8,16,32,16z"></path></g><g class="social-svg-mask" style="transition: fill 170ms ease-in-out 0s; fill: rgb(90, 98, 114);"><path d="M0,0v64h64V0H0z M37.1,47.2c-0.8,0.2-1.1-0.3-1.1-0.8c0-0.5,0-2.3,0-4.4c0-1.5-0.5-2.5-1.1-3 c3.6-0.4,7.3-1.7,7.3-7.9c0-1.7-0.6-3.2-1.6-4.3c0.2-0.4,0.7-2-0.2-4.2c0,0-1.3-0.4-4.4,1.6c-1.3-0.4-2.6-0.5-4-0.5 c-1.4,0-2.7,0.2-4,0.5c-3.1-2.1-4.4-1.6-4.4-1.6c-0.9,2.2-0.3,3.8-0.2,4.2c-1,1.1-1.6,2.5-1.6,4.3c0,6.1,3.7,7.5,7.3,7.9 c-0.5,0.4-0.9,1.1-1,2.1c-0.9,0.4-3.2,1.1-4.7-1.3c0,0-0.8-1.5-2.5-1.6c0,0-1.6,0-0.1,1c0,0,1,0.5,1.8,2.3c0,0,0.9,3.1,5.4,2.1 c0,1.3,0,2.3,0,2.7c0,0.4-0.3,0.9-1.1,0.8C20.6,45.1,16,39.1,16,32c0-8.8,7.2-16,16-16c8.8,0,16,7.2,16,16 C48,39.1,43.4,45.1,37.1,47.2z"></path></g></svg></div></a></a></div></div><div id="comment"><div class="pt-6 pb-6 text-center text-gray-700 dark:text-gray-300"><button>Load Comments</button><div class="giscus" id="comments-container"></div></div></div></div><footer><div class="divide-gray-200 text-sm font-medium leading-5 dark:divide-gray-700 xl:col-start-1 xl:row-start-2 xl:divide-y"><div class="py-4 xl:py-8"><h2 class="pb-1 text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400">Tags</h2><div class="flex flex-wrap"><a class="mt-2 mr-3 rounded-lg border border-primary-500 py-1 px-3 text-sm font-medium uppercase text-primary-500 transition duration-500 ease-in-out hover:bg-primary-500 hover:text-gray-100 dark:hover:text-gray-900" href="https://www.taiwoifedayo.com.ng/tags/rust">Rust</a><a class="mt-2 mr-3 rounded-lg border border-primary-500 py-1 px-3 text-sm font-medium uppercase text-primary-500 transition duration-500 ease-in-out hover:bg-primary-500 hover:text-gray-100 dark:hover:text-gray-900" href="https://www.taiwoifedayo.com.ng/tags/networking">Networking</a><a class="mt-2 mr-3 rounded-lg border border-primary-500 py-1 px-3 text-sm font-medium uppercase text-primary-500 transition duration-500 ease-in-out hover:bg-primary-500 hover:text-gray-100 dark:hover:text-gray-900" href="https://www.taiwoifedayo.com.ng/tags/http">HTTP</a><a class="mt-2 mr-3 rounded-lg border border-primary-500 py-1 px-3 text-sm font-medium uppercase text-primary-500 transition duration-500 ease-in-out hover:bg-primary-500 hover:text-gray-100 dark:hover:text-gray-900" href="https://www.taiwoifedayo.com.ng/tags/backend">Backend</a></div></div><div class="flex justify-between py-4 xl:block xl:space-y-8 xl:py-8"><div><h2 class="text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400">Previous Article</h2><div class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400"><a href="https://www.taiwoifedayo.com.ng/blog/Big-O">Understanding Big O- Analyzing Algorithm Efficiency.</a></div></div></div></div><div class="pt-4 xl:pt-8"><a class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="https://www.taiwoifedayo.com.ng/blog">← Back to the blog</a></div></footer></div></div></article></div></main><footer><div class="mt-10 flex flex-col items-center"><div class=""></div><div class="mb-2 hidden text-sm text-gray-500 dark:text-gray-400 md:flex"><div class="mx-1"><a class="link-underline" target="_blank" rel="noopener noreferrer" href="https://techmornach.vercel.app/">Taiwo Ifedayo © 2024</a></div>•<div class="mx-1"><a class="link-underline" target="_blank" rel="noopener noreferrer" href="https://qod.shakiltech.com/">Have a good Sunday!</a></div>•<div class="mx-1"><a class="link-underline" href="https://www.taiwoifedayo.com.ng/contact">Contact</a></div></div><div class="mb-2 text-sm text-gray-500 dark:text-gray-400 sm:block md:hidden lg:hidden"><div class="mx-1"><a class="link-underline" target="_blank" rel="noopener noreferrer" href="https://techmornach.vercel.app/">Ifedayo © 2024</a></div></div></div></footer></div></div><footer><div class="mt-10 flex flex-col items-center"><div class=""></div><div class="mb-2 hidden text-sm text-gray-500 dark:text-gray-400 md:flex"><div class="mx-1"><a class="link-underline" target="_blank" rel="noopener noreferrer" href="https://techmornach.vercel.app/">Taiwo Ifedayo<!-- --> © 2024</a></div>•<div class="mx-1"><a class="link-underline" target="_blank" rel="noopener noreferrer" href="https://qod.shakiltech.com/">Have a good <!-- -->Monday<!-- -->!</a></div>•<div class="mx-1"><a class="link-underline" href="https://www.taiwoifedayo.com.ng/contact">Contact</a></div></div><div class="mb-2 text-sm text-gray-500 dark:text-gray-400 sm:block md:hidden lg:hidden"><div class="mx-1"><a class="link-underline" target="_blank" rel="noopener noreferrer" href="https://techmornach.vercel.app/">Ifedayo<!-- --> © 2024</a></div></div></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"mdxSource":"var Component=(()=\u003e{var r=Object.create;var t=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var d=Object.getOwnPropertyNames;var h=Object.getPrototypeOf,m=Object.prototype.hasOwnProperty;var l=a=\u003et(a,\"__esModule\",{value:!0});var u=(a,s)=\u003e()=\u003e(s||a((s={exports:{}}).exports,s),s.exports),N=(a,s)=\u003e{l(a);for(var c in s)t(a,c,{get:s[c],enumerable:!0})},k=(a,s,c)=\u003e{if(s\u0026\u0026typeof s==\"object\"||typeof s==\"function\")for(let e of d(s))!m.call(a,e)\u0026\u0026e!==\"default\"\u0026\u0026t(a,e,{get:()=\u003es[e],enumerable:!(c=p(s,e))||c.enumerable});return a},g=a=\u003ek(l(t(a!=null?r(h(a)):{},\"default\",a\u0026\u0026a.__esModule\u0026\u0026\"default\"in a?{get:()=\u003ea.default,enumerable:!0}:{value:a,enumerable:!0})),a);var o=u((H,i)=\u003e{i.exports=_jsx_runtime});var b={};N(b,{default:()=\u003ew,frontmatter:()=\u003ef});var n=g(o()),f={title:\"Crafting an HTTP Library in Rust\",date:\"2023-12-27\",tags:[\"Rust\",\"Networking\",\"HTTP\",\"Backend\"],draft:!1,summary:\"Welcome to the journey of building an HTTP library in Rust\\u2014a language known for its emphasis on safety, speed, and concurrency.\"};function y(a={}){let{wrapper:s}=a.components||{};return s?(0,n.jsx)(s,Object.assign({},a,{children:(0,n.jsx)(c,{})})):c();function c(){let e=Object.assign({h1:\"h1\",a:\"a\",span:\"span\",h2:\"h2\",p:\"p\",code:\"code\",ul:\"ul\",li:\"li\",strong:\"strong\",pre:\"pre\",ol:\"ol\"},a.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(\"img\",{className:\"inline\",src:\"/static/images/Blog/http-rust/3.png\",alt:\"Crafting an HTTP Library in Rust\"}),(0,n.jsxs)(e.h1,{id:\"crafting-an-http-library-in-rust-building-a-robust-foundation\",children:[(0,n.jsx)(e.a,{href:\"#crafting-an-http-library-in-rust-building-a-robust-foundation\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Crafting an HTTP Library in Rust: Building a Robust Foundation\"]}),(0,n.jsxs)(e.h2,{id:\"introduction\",children:[(0,n.jsx)(e.a,{href:\"#introduction\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Introduction\"]}),(0,n.jsxs)(e.p,{children:[\"Welcome to the journey of building an HTTP library in Rust\\u2014a language known for its emphasis on safety, speed, and concurrency. Before we delve into the code, let's ensure you're well-prepared by exploring the basics of Rust. If you haven't already, install Rust and Cargo from \",(0,n.jsx)(e.a,{href:\"https://www.rust-lang.org/\",children:\"Rust's official website\"}),\". Once installed, create a new project with the command \",(0,n.jsx)(e.code,{children:\"cargo new http-library\"}),\". Let's embark on this adventure with a focus on clarity and professionalism.\"]}),(0,n.jsxs)(e.h2,{id:\"how-http-works\",children:[(0,n.jsx)(e.a,{href:\"#how-http-works\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"How HTTP Works\"]}),\" \",\" \",(0,n.jsx)(\"img\",{className:\"inline\",src:\"/static/images/Blog/http-rust/2.png\",alt:\"Http\"}),(0,n.jsx)(e.p,{children:`Let's delve into the workings of HTTP, the foundation of data exchange on the Web. HTTP stands for \"hypertext transform protocol\", it is an application protocol designed to transfer information between networked devices.`}),(0,n.jsx)(e.p,{children:\"Operating in a client-server model, HTTP involves:\"}),(0,n.jsxs)(e.ul,{children:[(0,n.jsxs)(e.li,{children:[(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"HTTP Request\"}),\": When a client (e.g., a web browser) seeks a resource, it sends an HTTP request containing the version type, method, url, headers, and an optional message body.\"]}),(0,n.jsx)(\"img\",{className:\"inline\",src:\"/static/images/Blog/http-rust/1.webp\",alt:\"Http Request\"})]}),(0,n.jsx)(e.li,{children:(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"HTTP Response\"}),\": The server processes the request and sends back an HTTP response with the version, status code, status text, headers, and an optional response body.\"]})})]}),(0,n.jsx)(e.p,{children:\"Our Rust HTTP library encapsulates these concepts, allowing for the parsing of requests and construction of responses\\u2014a structured approach to web interactions.\"}),(0,n.jsxs)(e.h2,{id:\"step-1-define-http-request-components\",children:[(0,n.jsx)(e.a,{href:\"#step-1-define-http-request-components\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Step 1: Define HTTP Request Components\"]}),(0,n.jsxs)(e.p,{children:[\"Our initial task is to understand the key components of an HTTP request. Imagine an explorer seeking treasures\\u2014a request contains a method, a path, headers, and a message body. Let's create the necessary structures to encapsulate these elements in \",(0,n.jsx)(e.code,{children:\"src/httprequest.rs\"}),\":\"]}),(0,n.jsx)(e.pre,{className:\"language-rust\",children:(0,n.jsxs)(e.code,{className:\"language-rust code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"use\"}),\" \",(0,n.jsxs)(e.span,{className:\"token namespace\",children:[\"std\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"::\"}),\"collections\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"::\"})]}),(0,n.jsx)(e.span,{className:\"token class-name\",children:\"HashMap\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Enum to represent the resource type (path) in an HTTP request\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token attr-name attribute\",children:\"#[derive(PartialEq, Debug)]\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"pub\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"enum\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name type-definition\",children:\"Resource\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Path\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token class-name\",children:\"String\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Struct to represent an HTTP request\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token attr-name attribute\",children:\"#[derive(PartialEq, Debug)]\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"pub\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"struct\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name type-definition\",children:\"HttpRequest\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"pub\"}),\" method\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Method\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"pub\"}),\" version\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Version\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"pub\"}),\" resource\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Resource\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"pub\"}),\" headers\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"HashMap\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,n.jsx)(e.span,{className:\"token class-name\",children:\"String\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"String\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"pub\"}),\" msg_body\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"String\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(e.ul,{children:[(0,n.jsx)(e.li,{children:(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Resource Enum\"}),\": Represents the path of our request, encapsulated in the \",(0,n.jsx)(e.code,{children:\"Resource\"}),\" enum.\"]})}),(0,n.jsx)(e.li,{children:(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"HttpRequest Struct\"}),\": Our representation of an HTTP request, which includes the method, version, resource, headers, and the message body.\"]})})]}),(0,n.jsxs)(e.h2,{id:\"step-2-implement-request-parsing\",children:[(0,n.jsx)(e.a,{href:\"#step-2-implement-request-parsing\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Step 2: Implement Request Parsing\"]}),(0,n.jsx)(e.p,{children:\"Let's empower our library to parse incoming HTTP requests, transforming raw text into a structured representation.\"}),(0,n.jsx)(e.pre,{className:\"language-rust\",children:(0,n.jsxs)(e.code,{className:\"language-rust code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Implementing conversion from a raw string to an HttpRequest\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"impl\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"From\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,n.jsx)(e.span,{className:\"token class-name\",children:\"String\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"for\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"HttpRequest\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"fn\"}),\" \",(0,n.jsx)(e.span,{className:\"token function function-definition\",children:\"from\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"req\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"String\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"Self\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"mut\"}),\" parsed_method \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Method\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"::\"}),(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Uninitialized\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"mut\"}),\" parsed_version \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Version\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"::\"}),(0,n.jsx)(e.span,{className:\"token constant\",children:\"V1_1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"mut\"}),\" parsed_resource \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Resource\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"::\"}),(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Path\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"to_string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"mut\"}),\" parsed_headers \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"HashMap\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"::\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"new\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"mut\"}),\" parsed_msg_body \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Looping through each line of the raw HTTP request\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"for\"}),\" line \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"in\"}),\" req\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"lines\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Parsing logic to identify method, version, headers, and message body\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"          \t\",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" line\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"contains\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"HTTP\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \t\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"                \t\",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"method\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" s\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" version\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"process_req_line\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"line\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"                \tparsed_method \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" method\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"                \tparsed_resource \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" resource\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"                \tparsed_version \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" version\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \t\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \t\",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"else\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" line\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"contains\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\":\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \t\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"                \t\",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"key\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" value\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"process_req_header\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"line\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"                \tparsed_headers\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"insert\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"key\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" value\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \t\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \t\",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"else\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" line\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"len\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"==\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \t\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \t\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \t\",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"else\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"                \tparsed_msg_body \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" line\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \t\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Creating and returning an HttpRequest instance\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"HttpRequest\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            method\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" parsed_method\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            version\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" parsed_version\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            resource\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" parsed_resource\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            headers\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" parsed_headers\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            msg_body\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" parsed_msg_body\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"to_string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(e.ul,{children:[(0,n.jsx)(e.li,{children:(0,n.jsxs)(e.p,{children:[\"The \",(0,n.jsx)(e.code,{children:\"From\u003cString\u003e\"}),\" implementation enables the conversion of raw text (\",(0,n.jsx)(e.code,{children:\"String\"}),\") into an \",(0,n.jsx)(e.code,{children:\"HttpRequest\"}),\" structure.\"]})}),(0,n.jsx)(e.li,{children:(0,n.jsx)(e.p,{children:\"The parsing logic navigates through the incoming text, identifying method, version, headers, and the message body.\"})})]}),(0,n.jsxs)(e.h2,{id:\"step-3-define-enums-for-method-and-version\",children:[(0,n.jsx)(e.a,{href:\"#step-3-define-enums-for-method-and-version\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Step 3: Define Enums for Method and Version\"]}),(0,n.jsx)(e.p,{children:\"Enums play a crucial role in representing HTTP methods and versions elegantly.\"}),(0,n.jsx)(e.pre,{className:\"language-rust\",children:(0,n.jsxs)(e.code,{className:\"language-rust code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Enum to represent HTTP methods\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token attr-name attribute\",children:\"#[derive(PartialEq)]\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token attr-name attribute\",children:\"#[derive(Debug)]\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"pub\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"enum\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name type-definition\",children:\"Method\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Get\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Post\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Uninitialized\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Enum to represent HTTP versions\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token attr-name attribute\",children:\"#[derive(PartialEq, Debug)]\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"pub\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"enum\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name type-definition\",children:\"Version\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token constant\",children:\"V1_1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token constant\",children:\"V2_0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Uninitialized\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(e.ul,{children:[(0,n.jsx)(e.li,{children:(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Method Enum\"}),\": Represents HTTP methods such as GET and POST, with \",(0,n.jsx)(e.code,{children:\"Uninitialized\"}),\" as an indicator when the method is unknown.\"]})}),(0,n.jsx)(e.li,{children:(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Version Enum\"}),\": Captures HTTP versions, including V1_1 and V2_0, with \",(0,n.jsx)(e.code,{children:\"Uninitialized\"}),\" for cases where the version is yet to be determined.\"]})})]}),(0,n.jsxs)(e.h2,{id:\"step-4-add-unit-tests\",children:[(0,n.jsx)(e.a,{href:\"#step-4-add-unit-tests\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Step 4: Add Unit Tests\"]}),(0,n.jsx)(e.p,{children:\"Before our library ventures into the world, let's fortify it with unit tests to ensure its resilience.\"}),(0,n.jsx)(e.pre,{className:\"language-rust\",children:(0,n.jsxs)(e.code,{className:\"language-rust code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Unit tests for the library\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token attr-name attribute\",children:\"#[cfg(test)]\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"mod\"}),\" \",(0,n.jsx)(e.span,{className:\"token namespace module-declaration\",children:\"tests\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"use\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"super\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"::\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"*\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Test method for converting raw strings into Method enums\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token attr-name attribute\",children:\"#[test]\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"fn\"}),\" \",(0,n.jsx)(e.span,{className:\"token function function-definition\",children:\"test_method_into\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" m\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Method\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"GET\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"into\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token property macro\",children:\"assert_eq!\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"m\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Method\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"::\"}),(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Get\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Test method for converting HTTP version strings into Version enums\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token attr-name attribute\",children:\"#[test]\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"fn\"}),\" \",(0,n.jsx)(e.span,{className:\"token function function-definition\",children:\"test_version_into\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" m\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Version\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"HTTP/1.1\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"into\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token property macro\",children:\"assert_eq!\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"m\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Version\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"::\"}),(0,n.jsx)(e.span,{className:\"token constant\",children:\"V1_1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Comprehensive test simulating the arrival of an HTTP request and verifying the parser's accuracy\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token attr-name attribute\",children:\"#[test]\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"fn\"}),\" \",(0,n.jsx)(e.span,{className:\"token function function-definition\",children:\"test_incoming_http_request\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" s\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"String\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"String\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"::\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"from\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"GET /greeting HTTP/1.1\\\\r\\\\nHost: localhost:3000\\\\r\\\\nUser-Agent: curl/7.64.1\\\\r\\\\nAccept: */*\\\\r\\\\n\\\\r\\\\n\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"mut\"}),\" headers_expected \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"HashMap\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"::\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"new\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        headers_expected\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"insert\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"Host\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"into\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\" localhost\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"into\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        headers_expected\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"insert\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"Accept\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"into\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\" */*\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"into\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        headers_expected\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"insert\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"User-Agent\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"into\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\" curl/7.64.1\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"into\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" req\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"HttpRequest\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" s\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"into\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Assertions to verify parsed HttpRequest components\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token property macro\",children:\"assert_eq!\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Method\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"::\"}),(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Get\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" req\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"method\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token property macro\",children:\"assert_eq!\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Version\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"::\"}),(0,n.jsx)(e.span,{className:\"token constant\",children:\"V1_1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" req\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"version\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token property macro\",children:\"assert_eq!\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Resource\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"::\"}),(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Path\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"/greeting\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"to_string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" req\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"resource\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token property macro\",children:\"assert_eq!\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"headers_expected\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" req\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"headers\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(e.ul,{children:[(0,n.jsx)(e.li,{children:(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Test Method Into\"}),\": Ensures the conversion of raw strings into \",(0,n.jsx)(e.code,{children:\"Method\"}),\" enums is accurate.\"]})}),(0,n.jsx)(e.li,{children:(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Test Version Into\"}),\": Validates the transformation of HTTP version strings into \",(0,n.jsx)(e.code,{children:\"Version\"}),\" enums.\"]})}),(0,n.jsx)(e.li,{children:(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Test Incoming HTTP Request\"}),\": A comprehensive test simulating the arrival of an HTTP request and verifying the parser's accuracy.\"]})})]}),(0,n.jsxs)(e.h2,{id:\"http-response-implementation\",children:[(0,n.jsx)(e.a,{href:\"#http-response-implementation\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"HTTP Response Implementation\"]}),(0,n.jsx)(e.p,{children:\"Now, let's shift our focus to handling HTTP responses. We aim to construct well-formed responses to gracefully communicate with clients.\"}),(0,n.jsxs)(e.h2,{id:\"step-5-define-http-response-components\",children:[(0,n.jsx)(e.a,{href:\"#step-5-define-http-response-components\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Step 5: Define HTTP Response Components\"]}),(0,n.jsxs)(e.p,{children:[\"In \",(0,n.jsx)(e.code,{children:\"src/httpresponse.rs\"}),\", we define the components of an HTTP response\\u2014a structured entity ready to traverse the digital realms.\"]}),(0,n.jsx)(e.pre,{className:\"language-rust\",children:(0,n.jsxs)(e.code,{className:\"language-rust code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"use\"}),\" \",(0,n.jsxs)(e.span,{className:\"token namespace\",children:[\"std\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"::\"}),\"collections\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"::\"})]}),(0,n.jsx)(e.span,{className:\"token class-name\",children:\"HashMap\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"use\"}),\" \",(0,n.jsxs)(e.span,{className:\"token namespace\",children:[\"std\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"::\"}),\"io\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"::\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Result\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Write\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Struct to represent an HTTP response\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token attr-name attribute\",children:\"#[derive(Debug, PartialEq, Clone)]\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"pub\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"struct\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name type-definition\",children:\"HttpResponse\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,n.jsx)(e.span,{className:\"token lifetime-annotation symbol\",children:\"'a\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    version\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u0026\"}),(0,n.jsx)(e.span,{className:\"token lifetime-annotation symbol\",children:\"'a\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"str\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    status_code\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u0026\"}),(0,n.jsx)(e.span,{className:\"token lifetime-annotation symbol\",children:\"'a\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"str\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    status_text\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u0026\"}),(0,n.jsx)(e.span,{className:\"token lifetime-annotation symbol\",children:\"'a\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"str\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    headers\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Option\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,n.jsx)(e.span,{className:\"token class-name\",children:\"HashMap\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u0026\"}),(0,n.jsx)(e.span,{className:\"token lifetime-annotation symbol\",children:\"'a\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"str\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u0026\"}),(0,n.jsx)(e.span,{className:\"token lifetime-annotation symbol\",children:\"'a\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"str\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003e\u003e\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    body\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Option\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,n.jsx)(e.span,{className:\"token class-name\",children:\"String\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsx)(e.ul,{children:(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"HttpResponse Struct\"}),\": Represents the essential elements of an HTTP response\\u2014version, status code, status text, headers, and the body.\"]})}),(0,n.jsxs)(e.h2,{id:\"step-6-implement-response-construction\",children:[(0,n.jsx)(e.a,{href:\"#step-6-implement-response-construction\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Step 6: Implement Response Construction\"]}),(0,n.jsxs)(e.p,{children:[\"We now create methods to construct HTTP responses, bringing life to the structured \",(0,n.jsx)(e.code,{children:\"HttpResponse\"}),\".\"]}),(0,n.jsx)(e.pre,{className:\"language-rust\",children:(0,n.jsxs)(e.code,{className:\"language-rust code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Implementing default for HttpResponse\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"impl\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,n.jsx)(e.span,{className:\"token lifetime-annotation symbol\",children:\"'a\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Default\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"for\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"HttpResponse\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,n.jsx)(e.span,{className:\"token lifetime-annotation symbol\",children:\"'a\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"fn\"}),\" \",(0,n.jsx)(e.span,{className:\"token function function-definition\",children:\"default\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"Self\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"HttpResponse\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            version\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"HTTP/1.1\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            status_code\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"200\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            status_text\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"OK\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            headers\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"None\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            body\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"None\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Implementation for HttpResponse\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"impl\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,n.jsx)(e.span,{className:\"token lifetime-annotation symbol\",children:\"'a\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"HttpResponse\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,n.jsx)(e.span,{className:\"token lifetime-annotation symbol\",children:\"'a\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Constructor for creating an HttpResponse instance\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"pub\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"fn\"}),\" \",(0,n.jsx)(e.span,{className:\"token function function-definition\",children:\"new\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        status_code\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u0026\"}),(0,n.jsx)(e.span,{className:\"token lifetime-annotation symbol\",children:\"'a\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"str\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        headers\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Option\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,n.jsx)(e.span,{className:\"token class-name\",children:\"HashMap\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u0026\"}),(0,n.jsx)(e.span,{className:\"token lifetime-annotation symbol\",children:\"'a\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"str\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u0026\"}),(0,n.jsx)(e.span,{className:\"token lifetime-annotation symbol\",children:\"'a\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"str\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003e\u003e\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        body\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Option\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,n.jsx)(e.span,{className:\"token class-name\",children:\"String\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"HttpResponse\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,n.jsx)(e.span,{className:\"token lifetime-annotation symbol\",children:\"'a\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Creating a response with specified status code, headers, and body\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"mut\"}),\" response\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"HttpResponse\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,n.jsx)(e.span,{className:\"token lifetime-annotation symbol\",children:\"'a\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"HttpResponse\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"::\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"default\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" status_code \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"!=\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"200\"'}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            response\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"status_code \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" status_code\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"into\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Handling headers, setting defaults if not provided\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        response\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"headers \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"match\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u0026\"}),\"headers \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Some\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"_h\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\u003e\"}),\" headers\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"None\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"mut\"}),\" h \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"HashMap\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"::\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"new\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"                h\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"insert\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"Content-Type\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"text/html\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Some\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"h\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Determining status text based on status code\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        response\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"status_text \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"match\"}),\" response\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"status_code \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"200\"'}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"OK\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"into\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"400\"'}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"Bad Request\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"into\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"404\"'}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"Not Found\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"into\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"500\"'}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"Internal Server Error\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"into\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            _ \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"Not Found\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"into\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Setting response body\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        response\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"body \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" body\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`        response\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Method to send the response to a writable stream\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"pub\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"fn\"}),\" \",(0,n.jsx)(e.span,{className:\"token function function-definition\",children:\"send_response\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u0026\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"self\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" write_stream\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u0026\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"mut\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"impl\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Write\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Result\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" res \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"self\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"clone\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" response_string\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"String\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"String\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"::\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"from\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"res\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"     \t\t\",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Writing the response string to the provided writable stream\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" _ \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token property macro\",children:\"write!\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"write_stream\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"{}\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" response_string\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Ok\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(e.ul,{children:[(0,n.jsx)(e.li,{children:(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Default Implementation\"}),\": The default response is a serene \",(0,n.jsx)(e.code,{children:\"200 OK\"}),\" response with a content type of \",(0,n.jsx)(e.code,{children:\"text/html\"}),\". This ensures a pleasant default experience unless customization is needed.\"]})}),(0,n.jsx)(e.li,{children:(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"New Method\"}),\": A constructor for crafting responses based on status codes, headers, and a body. This method breathes life into the structured response.\"]})}),(0,n.jsx)(e.li,{children:(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Send Response Method\"}),\": A messenger is summoned, allowing the response to traverse the realms through a writable stream.\"]})})]}),(0,n.jsxs)(e.h2,{id:\"step-7-implement-response-serialization\",children:[(0,n.jsx)(e.a,{href:\"#step-7-implement-response-serialization\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Step 7: Implement Response Serialization\"]}),(0,n.jsx)(e.p,{children:\"Our grand finale involves converting the structured response into the language of the web\\u2014a string ready to traverse the vast digital landscapes.\"}),(0,n.jsx)(e.pre,{className:\"language-rust\",children:(0,n.jsxs)(e.code,{className:\"language-rust code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Implementation for converting HttpResponse to a String\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"impl\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,n.jsx)(e.span,{className:\"token lifetime-annotation symbol\",children:\"'a\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"From\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,n.jsx)(e.span,{className:\"token class-name\",children:\"HttpResponse\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,n.jsx)(e.span,{className:\"token lifetime-annotation symbol\",children:\"'a\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003e\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"for\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"String\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"fn\"}),\" \",(0,n.jsx)(e.span,{className:\"token function function-definition\",children:\"from\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"res\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"HttpResponse\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"String\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" res1 \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" res\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"clone\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Formatting the response as a string\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token property macro\",children:\"format!\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"{} {} {}\\\\r\\\\n{}Content-Length: {}\\\\r\\\\n\\\\r\\\\n{}\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u0026\"}),\"res1\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"version\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u0026\"}),\"res1\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"status_code\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u0026\"}),\"res1\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"status_text\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u0026\"}),\"res1\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"headers\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u0026\"}),\"res\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"body\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"unwrap_or\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"to_string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"len\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u0026\"}),\"res1\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"body\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsx)(e.ul,{children:(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"From Implementation\"}),\": Our sorcery reaches its zenith, translating the structured response into a string that echoes across the bytes.\"]})}),(0,n.jsxs)(e.h2,{id:\"using-the-http-library-in-projects\",children:[(0,n.jsx)(e.a,{href:\"#using-the-http-library-in-projects\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Using the HTTP Library in Projects\"]}),(0,n.jsx)(e.p,{children:\"Now that we've crafted our HTTP library, let's see how you can use it in your Rust projects.\"}),(0,n.jsxs)(e.ol,{children:[(0,n.jsxs)(e.li,{children:[(0,n.jsxs)(e.p,{children:[\"Add the library as a dependency in your \",(0,n.jsx)(e.code,{children:\"Cargo.toml\"}),\" file:\"]}),(0,n.jsx)(e.pre,{className:\"language-toml\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-toml\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token class-name table\",children:\"dependencies\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token property key\",children:\"http-library\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,n.jsx)(e.span,{className:\"token property key\",children:\"path\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"./path/to/http-library\"'}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"Make sure to replace \",(0,n.jsx)(e.code,{children:\"./path/to/http-library\"}),\" with the actual path to your HTTP library.\"]})]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.p,{children:\"Import the library in your Rust code:\"}),(0,n.jsx)(e.pre,{className:\"language-rust\",children:(0,n.jsxs)(e.code,{className:\"language-rust code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"extern\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"crate\"}),\" \",(0,n.jsx)(e.span,{className:\"token namespace module-declaration\",children:\"http_library\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"use\"}),\" \",(0,n.jsxs)(e.span,{className:\"token namespace\",children:[\"http_library\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"::\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token class-name\",children:\"HttpRequest\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"HttpResponse\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Method\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Version\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})})]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.p,{children:\"Create an HTTP request:\"}),(0,n.jsx)(e.pre,{className:\"language-rust\",children:(0,n.jsxs)(e.code,{className:\"language-rust code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" raw_request \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"GET /greeting HTTP/1.1\\\\r\\\\nHost: localhost:3000\\\\r\\\\nUser-Agent: curl/7.64.1\\\\r\\\\nAccept: */*\\\\r\\\\n\\\\r\\\\n\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" http_request\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"HttpRequest\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" raw_request\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"into\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})})]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.p,{children:\"Create an HTTP response:\"}),(0,n.jsx)(e.pre,{className:\"language-rust\",children:(0,n.jsx)(e.code,{className:\"language-rust code-highlight\",children:(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" http_response \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"HttpResponse\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"::\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"new\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"200\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"None\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Some\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"Hello, World!\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"to_string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})})})]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.p,{children:\"Send the HTTP response to a writable stream:\"}),(0,n.jsx)(e.pre,{className:\"language-rust\",children:(0,n.jsxs)(e.code,{className:\"language-rust code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"mut\"}),\" write_stream \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Vec\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"::\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"new\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Replace this with your actual writable stream\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"http_response\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"send_response\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u0026\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"mut\"}),\" write_stream\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"expect\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"Failed to send response\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})})]})]}),(0,n.jsxs)(e.h2,{id:\"conclusion\",children:[(0,n.jsx)(e.a,{href:\"#conclusion\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Conclusion\"]}),(0,n.jsx)(e.p,{children:\"In this journey, you've explored the creation of an HTTP library in Rust with a focus on clarity and professionalism. Your code transforms raw text into structured entities and vice versa, establishing a robust foundation for web communication.\"}),(0,n.jsx)(e.p,{children:\"As you continue your exploration, remember that the web is a vast, interconnected tapestry awaiting your influence. With Rust as your tool, the adventure in web development is boundless and thrilling.\"}),(0,n.jsx)(e.p,{children:\"Feel free to extend this library, adding features and refining your code. With every line written, you contribute to the narrative of the web. Happy coding, and may your Rust adventures be both elegant and exciting.\"})]})}}var w=y;return b;})();\n;return Component;","toc":[{"value":"Crafting an HTTP Library in Rust: Building a Robust Foundation","url":"#crafting-an-http-library-in-rust-building-a-robust-foundation","depth":1},{"value":"Introduction","url":"#introduction","depth":2},{"value":"How HTTP Works","url":"#how-http-works","depth":2},{"value":"Step 1: Define HTTP Request Components","url":"#step-1-define-http-request-components","depth":2},{"value":"Step 2: Implement Request Parsing","url":"#step-2-implement-request-parsing","depth":2},{"value":"Step 3: Define Enums for Method and Version","url":"#step-3-define-enums-for-method-and-version","depth":2},{"value":"Step 4: Add Unit Tests","url":"#step-4-add-unit-tests","depth":2},{"value":"HTTP Response Implementation","url":"#http-response-implementation","depth":2},{"value":"Step 5: Define HTTP Response Components","url":"#step-5-define-http-response-components","depth":2},{"value":"Step 6: Implement Response Construction","url":"#step-6-implement-response-construction","depth":2},{"value":"Step 7: Implement Response Serialization","url":"#step-7-implement-response-serialization","depth":2},{"value":"Using the HTTP Library in Projects","url":"#using-the-http-library-in-projects","depth":2},{"value":"Conclusion","url":"#conclusion","depth":2}],"frontMatter":{"readingTime":{"text":"14 min read","minutes":13.385,"time":803100,"words":2677},"slug":"http-library","fileName":"http-library.mdx","title":"Crafting an HTTP Library in Rust","date":"2023-12-27T00:00:00.000Z","tags":["Rust","Networking","HTTP","Backend"],"draft":false,"summary":"Welcome to the journey of building an HTTP library in Rust—a language known for its emphasis on safety, speed, and concurrency."}},"authorDetails":[{"readingTime":{"text":"1 min read","minutes":0.315,"time":18900,"words":63},"slug":["default"],"fileName":"default.md","name":"Taiwo Ifedayo","avatar":"/static/images/avatar.png","occupation":"Software Engineer","company":"Travel Yakata","email":"taiwo.ifedayo.gabriel@gmail.com","twitter":"https://twitter.com/_taiwoifedayo","linkedin":"https://www.linkedin.com/in/techmornach/","github":"https://github.com/techmornach","text1":"I am a Software Engineer. I am passionate about building scalable applications powered by Artificial Intelligence. I am also fascinated with Medcine and wish to make a career out of it someday.","text2":null,"text3":null,"date":null}],"prev":{"title":"Understanding Big O- Analyzing Algorithm Efficiency.","date":"2023-07-09T00:00:00.000Z","tags":["Big O","Algorithms","Efficiency","Asymptotic Runtime","Data Structures"],"draft":false,"summary":"Big O time ( Also known as asymptotic runtime ) is the metric used to describe the efficiency of an algorithm.","slug":"Big-O"},"next":null},"__N_SSG":true},"page":"/blog/[...slug]","query":{"slug":["http-library"]},"buildId":"JpawDcQVSkx_vvyZg2Xuq","isFallback":false,"gsp":true,"scriptLoader":[]}</script><next-route-announcer><p aria-live="assertive" id="__next-route-announcer__" role="alert" style="border: 0px; clip: rect(0px, 0px, 0px, 0px); height: 1px; margin: -1px; overflow: hidden; padding: 0px; position: absolute; width: 1px; white-space: nowrap; overflow-wrap: normal;"></p></next-route-announcer><script src="./one_files/[tag]-24b3ddcdeeb07598.js.download"></script><script src="./one_files/index-48c63b6a25d995c2.js.download"></script><script src="./one_files/blog-b7572caf34446f29.js.download"></script><script src="./one_files/snippets-f1bed50f61a5127b.js.download"></script><script src="./one_files/1bfc9850-0683d8b8b5fbae65.js.download"></script><script src="./one_files/projects-0cfa43a1c02deb4f.js.download"></script><script src="./one_files/about-897f78f137ff7529.js.download"></script><script src="./one_files/582-d79da0492f1f9267.js.download"></script><script src="./one_files/guestbook-c3c2b7cc4bebf575.js.download"></script><script src="./one_files/certificates-12de689d02538613.js.download"></script></body></html>